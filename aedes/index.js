(()=>{var __webpack_modules__={3333:(e,t,r)=>{e.exports=r(9064)},6817:e=>{"use strict";function Packet(e,t){if(Object.prototype.hasOwnProperty.call(e,"clientId"))this.clientId=e.clientId;if(Object.prototype.hasOwnProperty.call(e,"nl"))this.nl=e.nl;this.cmd=e.cmd||"publish";this.brokerId=e.brokerId||t&&t.id;this.brokerCounter=e.brokerCounter||(t?++t.counter:0);this.topic=e.topic;this.payload=e.payload||Buffer.alloc(0);this.qos=e.qos||0;this.retain=e.retain||false;this.dup=e.dup||false;if(this.qos>0||this.cmd!=="publish"){this.messageId=undefined}}e.exports=Packet},4430:(e,t,r)=>{const{Readable:n}=r(2781);const i=r(8983);const{QlobberTrue:s}=r(660);const o=r(6817);const a={wildcard_one:"+",wildcard_some:"#",separator:"/"};const l=true;function*multiIterables(e){for(const t of e){yield*t}}function*retainedMessagesByPattern(e,t){const r=new s(a);r.add(t);for(const[t,n]of e){if(r.test(t)){yield n}}}function*willsByBrokers(e,t){for(const r of e.values()){if(!t[r.brokerId]){yield r}}}function*clientListbyTopic(e,t){for(const[r,n]of e){if(n.has(t)){yield r}}}class MemoryPersistence{#e;#t;#r;#n;#i;#s;#o;constructor(){this.#e=new Map;this.#t=new Map;this.#r=new Map;this.#n=new Map;this.#i=new Map;this.#s=0;this.#o=new i(a)}storeRetained(e,t){const r=Object.assign({},e);if(r.payload.length===0){this.#e.delete(r.topic)}else{this.#e.set(r.topic,r)}t(null)}createRetainedStreamCombi(e){const t=e.map((e=>retainedMessagesByPattern(this.#e,e)));return n.from(multiIterables(t))}createRetainedStream(e){return n.from(retainedMessagesByPattern(this.#e,e))}addSubscriptions(e,t,r){let n=this.#t.get(e.id);const i=this.#o;if(!n){n=new Map;this.#t.set(e.id,n);this.#s++}for(const r of t){const t=n.get(r.topic);if(r.qos>0){i.add(r.topic,{clientId:e.id,topic:r.topic,qos:r.qos,rh:r.rh,rap:r.rap,nl:r.nl})}else if(t?.qos>0){i.remove(r.topic,{clientId:e.id,topic:r.topic})}n.set(r.topic,{qos:r.qos,rh:r.rh,rap:r.rap,nl:r.nl})}r(null,e)}removeSubscriptions(e,t,r){const n=this.#t.get(e.id);const i=this.#o;if(n){for(const r of t){const t=n.get(r);if(t!==undefined){if(t.qos>0){i.remove(r,{clientId:e.id,topic:r})}n.delete(r)}}if(n.size===0){this.#s--;this.#t.delete(e.id)}}r(null,e)}subscriptionsByClient(e,t){let r=null;const n=this.#t.get(e.id);if(n){r=[];for(const[e,t]of n){r.push({topic:e,...t})}}t(null,r,e)}countOffline(e){return e(null,this.#o.subscriptionsCount,this.#s)}subscriptionsByTopic(e,t){t(null,this.#o.match(e))}cleanSubscriptions(e,t){const r=this.#o;const n=this.#t.get(e.id);if(n){for(const[t,i]of n){if(i.qos>0){r.remove(t,{clientId:e.id,topic:t})}}this.#s--;this.#t.delete(e.id)}t(null,e)}#a(e,t){const r=e.clientId;const n=getMapRef(this.#r,r,[],l);n[n.length]=new o(t)}outgoingEnqueue(e,t,r){this.#a(e,t);process.nextTick(r)}outgoingEnqueueCombi(e,t,r){for(let r=0;r<e.length;r++){this.#a(e[r],t)}process.nextTick(r)}outgoingUpdate(e,t,r){const n=getMapRef(this.#r,e.id,[],l);let i;for(let s=0;s<n.length;s++){i=n[s];if(i.brokerId===t.brokerId){if(i.brokerCounter===t.brokerCounter){i.messageId=t.messageId;return r(null,e,t)}}else if(i.messageId===t.messageId){n[s]=t;return r(null,e,t)}}r(new Error("no such packet"),e,t)}outgoingClearMessageId(e,t,r){const n=getMapRef(this.#r,e.id,[],l);let i;for(let e=0;e<n.length;e++){i=n[e];if(i.messageId===t.messageId){n.splice(e,1);return r(null,i)}}r()}outgoingStream(e){const t=[].concat(getMapRef(this.#r,e.id,[]));return n.from(t)}incomingStorePacket(e,t,r){const n=e.id;const i=getMapRef(this.#n,n,{},l);i[t.messageId]=new o(t);i[t.messageId].messageId=t.messageId;r(null)}incomingGetPacket(e,t,r){const n=e.id;const i=getMapRef(this.#n,n,{});let s=null;this.#n.set(n,i);if(!i[t.messageId]){s=new Error("no such packet")}r(s,i[t.messageId])}incomingDelPacket(e,t,r){const n=e.id;const i=getMapRef(this.#n,n,{});const s=i[t.messageId];let o=null;if(!s){o=new Error("no such packet")}else{delete i[t.messageId]}r(o)}putWill(e,t,r){t.brokerId=this.broker.id;t.clientId=e.id;this.#i.set(e.id,t);r(null,e)}getWill(e,t){t(null,this.#i.get(e.id),e)}delWill(e,t){const r=this.#i.get(e.id);this.#i.delete(e.id);t(null,r,e)}streamWill(e={}){return n.from(willsByBrokers(this.#i,e))}getClientList(e){return n.from(clientListbyTopic(this.#t,e))}destroy(e){this.#e=null;if(e){e(null)}}}function getMapRef(e,t,r,n=false){const i=e.get(t);if(i===undefined&&n){e.set(t,r)}return i||r}e.exports=()=>new MemoryPersistence;e.exports.Packet=o},9064:(e,t,r)=>{"use strict";const n=r(2361);const i=r(3837);const s=r(9036);const o=r(3687);const{v4:a}=r(3745);const l=r(9978);const{pipeline:u}=r(2781);const c=r(6817);const d=r(4430);const p=r(6992);const h=r(4297);const{$SYS_PREFIX:b,bulk:_}=r(7608);e.exports=Aedes.createBroker=Aedes;const g={concurrency:100,heartbeatInterval:6e4,connectTimeout:3e4,decodeProtocol:null,preConnect:defaultPreConnect,authenticate:defaultAuthenticate,authorizePublish:defaultAuthorizePublish,authorizeSubscribe:defaultAuthorizeSubscribe,authorizeForward:defaultAuthorizeForward,published:defaultPublished,trustProxy:false,trustedProxies:[],queueLimit:42,maxClientsIdLength:23};function Aedes(e){const t=this;if(!(this instanceof Aedes)){return new Aedes(e)}e=Object.assign({},g,e);this.id=e.id||a();this.counter=0;this.queueLimit=e.queueLimit;this.connectTimeout=e.connectTimeout;this.maxClientsIdLength=e.maxClientsIdLength;this.mq=e.mq||p({concurrency:e.concurrency,matchEmptyLevels:true});this.handle=function handle(r,n){r.setMaxListeners(e.concurrency*2);return new h(t,r,n)};this.persistence=e.persistence||d();this.persistence.broker=this;this._parallel=s();this._series=o();this._enqueuers=l(DoEnqueues);this.preConnect=e.preConnect;this.authenticate=e.authenticate;this.authorizePublish=e.authorizePublish;this.authorizeSubscribe=e.authorizeSubscribe;this.authorizeForward=e.authorizeForward;this.published=e.published;this.decodeProtocol=e.decodeProtocol;this.trustProxy=e.trustProxy;this.trustedProxies=e.trustedProxies;this.clients={};this.brokers={};const r=b+t.id+"/heartbeat";const n=b+t.id+"/birth";this._heartbeatInterval=setInterval(heartbeat,e.heartbeatInterval);const i=Buffer.from(t.id,"utf8");t.publish({topic:n,payload:i},noop);function heartbeat(){t.publish({topic:r,payload:i},noop)}function deleteOldBrokers(r){if(t.brokers[r]+3*e.heartbeatInterval<Date.now()){delete t.brokers[r]}}this._clearWillInterval=setInterval((function(){Object.keys(t.brokers).forEach(deleteOldBrokers);u(t.persistence.streamWill(t.brokers),_(receiveWills),(function done(e){if(e){t.emit("error",e)}}))}),e.heartbeatInterval*4);function receiveWills(e,r){t._parallel(t,checkAndPublish,e,r)}function checkAndPublish(r,n){const i=t.brokers[r.brokerId]!==undefined&&t.brokers[r.brokerId]+3*e.heartbeatInterval>=Date.now();if(i)return n();this.authorizePublish(t.clients[r.clientId]||null,r,(function(e){if(e){return doneWill()}t.publish(r,doneWill);function doneWill(e){if(e){return n(e)}t.persistence.delWill({id:r.clientId,brokerId:r.brokerId},n)}}))}this.mq.on(b+"+/heartbeat",(function storeBroker(e,r){t.brokers[e.payload.toString()]=Date.now();r()}));this.mq.on(b+"+/birth",(function brokerBorn(e,r){const n=e.payload.toString();if(n!==t.id){for(const e in t.clients){delete t.clients[e].duplicates[n]}}r()}));this.mq.on(b+"+/new/clients",(function closeSameClients(e,r){const n=e.topic.split("/")[1];const i=e.payload.toString();if(t.clients[i]&&n!==t.id){t.clients[i].close(r)}else{r()}}));this.connectedClients=0;this.closed=false}i.inherits(Aedes,n);function storeRetained(e,t){if(e.retain){this.broker.persistence.storeRetained(e,t)}else{t()}}function emitPacket(e,t){if(this.client)e.clientId=this.client.id;this.broker.mq.emit(e,t)}function enqueueOffline(e,t){const r=this.broker._enqueuers.get();r.complete=t;r.packet=e;r.topic=e.topic;r.broker=this.broker;this.broker.persistence.subscriptionsByTopic(e.topic,r.done)}function DoEnqueues(){this.next=null;this.complete=null;this.packet=null;this.topic=null;this.broker=null;const e=this;this.done=function doneEnqueue(t,r){const n=e.broker;if(t){n.emit("error",t);return}if(e.topic.indexOf(b)===0){r=r.filter(removeSharp)}const i=e.packet;const s=e.complete;e.packet=null;e.complete=null;e.topic=null;n.persistence.outgoingEnqueueCombi(r,i,s);n._enqueuers.release(e)}}function removeSharp(e){const t=e.topic.charCodeAt(0);return t!==43&&t!==35}function callPublished(e,t){this.broker.published(this.packet,this.client,t);this.broker.emit("publish",this.packet,this.client)}const m=[storeRetained,emitPacket,callPublished];const y=[storeRetained,enqueueOffline,emitPacket,callPublished];Aedes.prototype.publish=function(e,t,r){if(typeof t==="function"){r=t;t=null}const n=new c(e,this);const i=n.qos>0?y:m;this._series(new PublishState(this,t,e),i,n,r)};Aedes.prototype.subscribe=function(e,t,r){this.mq.on(e,t,r)};Aedes.prototype.unsubscribe=function(e,t,r){this.mq.removeListener(e,t,r)};Aedes.prototype.registerClient=function(e){const t=this;if(this.clients[e.id]){this.clients[e.id].close((function closeClient(){t._finishRegisterClient(e)}))}else{this._finishRegisterClient(e)}};Aedes.prototype._finishRegisterClient=function(e){this.connectedClients++;this.clients[e.id]=e;this.emit("client",e);this.publish({topic:b+this.id+"/new/clients",payload:Buffer.from(e.id,"utf8")},noop)};Aedes.prototype.unregisterClient=function(e){this.connectedClients--;delete this.clients[e.id];this.emit("clientDisconnect",e);this.publish({topic:b+this.id+"/disconnect/clients",payload:Buffer.from(e.id,"utf8")},noop)};function closeClient(e,t){this.clients[e].close(t)}Aedes.prototype.close=function(e=noop){const t=this;if(this.closed){return e()}this.closed=true;clearInterval(this._heartbeatInterval);clearInterval(this._clearWillInterval);this._parallel(this,closeClient,Object.keys(this.clients),doneClose);function doneClose(){t.emit("closed");t.mq.close(e)}};Aedes.prototype.version=r(4572).i8;function defaultPreConnect(e,t,r){r(null,true)}function defaultAuthenticate(e,t,r,n){n(null,true)}function defaultAuthorizePublish(e,t,r){if(t.topic.startsWith(b)){return r(new Error(b+" topic is reserved"))}r(null)}function defaultAuthorizeSubscribe(e,t,r){r(null,t)}function defaultAuthorizeForward(e,t){return t}function defaultPublished(e,t,r){r(null)}function PublishState(e,t,r){this.broker=e;this.client=t;this.packet=r}function noop(){}},4297:(e,t,r)=>{"use strict";const n=r(2825);const i=r(2361);const s=r(3837);const o=r(711);const a=r(6817);const l=r(5103);const u=r(8730);const c=r(7279);const d=r(5975);const p=r(5498);const{pipeline:h}=r(2781);const{through:b}=r(7608);e.exports=Client;function Client(e,t,r){const i=this;this.closed=false;this.connecting=false;this.connected=false;this.connackSent=false;this.errored=false;this.id=null;this.clean=true;this.version=null;this.subscriptions={};this.duplicates={};this.broker=e;this.conn=t;t.client=this;this._disconnected=false;this._authorized=false;this._parsingBatch=1;this._nextId=Math.ceil(Math.random()*65535);this.req=r;this.connDetails=r?r.connDetails:null;this.will=null;this._will=null;this._parser=n.parser();this._parser.client=this;this._parser._queue=[];this._parser.on("packet",enqueue);this.once("connected",dequeue);function nextBatch(e){if(e){i.emit("error",e);return}const t=i;if(t._paused){return}i._parsingBatch--;if(i._parsingBatch<=0){i._parsingBatch=0;const e=t.conn.read(null);if(e){t._parser.parse(e)}}}this._nextBatch=nextBatch;t.on("readable",nextBatch);this.on("error",onError);t.on("error",this.emit.bind(this,"error"));this._parser.on("error",this.emit.bind(this,"error"));t.on("end",this.close.bind(this));this._eos=o(this.conn,this.close.bind(this));const getToForwardPacket=e=>{if(e.clientId===i.id&&e.nl)return;const t=dedupe(i,e)&&i.broker.authorizeForward(i,e);return t};this.deliver0=function deliverQoS0(t,r){const n=getToForwardPacket(t);if(n){setImmediate((()=>{const t=new a(n,e);t.qos=0;l(i,t,(function(e){i._onError(e);r()}))}))}else{setImmediate(r)}};this.deliverQoS=function deliverQoS(t,r){if(t.qos===0){i.deliver0(t,r);return}const n=getToForwardPacket(t);if(n){setImmediate((()=>{const t=new u(n,i);const s=i.subscriptions[t.topic];if(s&&(s.qos||0)<t.qos){t.qos=s.qos}t.writeCallback=r;if(i.clean||t.retain){writeQoS(null,i,t)}else{e.persistence.outgoingUpdate(i,t,writeQoS)}}))}else if(i.clean===false){i.broker.persistence.outgoingClearMessageId(i,t,noop);setImmediate(r)}else{setImmediate(r)}};this._keepaliveTimer=null;this._keepaliveInterval=-1;this._connectTimer=setTimeout((function(){i.emit("error",new Error("connect did not arrive in time"))}),e.connectTimeout)}function dedupe(e,t){const r=t.brokerId;if(!r){return true}const n=e.duplicates;const i=t.brokerCounter;const s=(n[r]||0)<i;if(s){n[r]=i}return s}function writeQoS(e,t,r){if(e){t.emit("error",e);r.writeCallback()}else{l(t,r,(function(e){if(e){t.emit("error",e)}r.writeCallback()}))}}function drainRequest(e){e.callback()}function onError(e){if(!e)return;this.errored=true;this.conn.removeAllListeners("error");this.conn.on("error",noop);const t=this.conn._writableState;const r=typeof t.getBuffer==="function"?t.getBuffer():t.buffer;r.forEach(drainRequest);this.broker.emit(this.id?"clientError":"connectionError",this,e);this.close()}s.inherits(Client,i);Client.prototype._onError=onError;Client.prototype.publish=function(e,t){const r=new a(e,this.broker);const n=this;if(r.qos===0){this.deliver0(r,t);return}if(!this.clean&&this.id){this.broker.persistence.outgoingEnqueue({clientId:this.id},r,(function deliver(e){if(e){return t(e)}n.deliverQoS(r,t)}))}else{n.deliverQoS(r,t)}};Client.prototype.subscribe=function(e,t){if(!e.subscriptions){if(!Array.isArray(e)){e=[e]}e={subscriptions:e}}c(this,e,false,t)};Client.prototype.unsubscribe=function(e,t){if(!e.unsubscriptions){if(!Array.isArray(e)){e=[e]}e={unsubscriptions:e}}d(this,e,t)};Client.prototype.close=function(e){if(this.closed){if(typeof e==="function"){e()}return}const t=this;const r=this.conn;this.closed=true;this._parser.removeAllListeners("packet");r.removeAllListeners("readable");this._parser._queue=null;if(this._keepaliveTimer){this._keepaliveTimer.clear();this._keepaliveInterval=-1;this._keepaliveTimer=null}if(this._connectTimer){clearTimeout(this._connectTimer);this._connectTimer=null}this._eos();this._eos=noop;d(this,{unsubscriptions:Object.keys(this.subscriptions)},finish);function finish(){const n=t.will;if(!t._disconnected&&n){t.broker.authorizePublish(t,n,(function(e){if(e){return done()}t.broker.publish(n,t,done);function done(){t.broker.persistence.delWill({id:t.id,brokerId:t.broker.id},noop)}}))}t.will=null;t._will=null;t.connected=false;t.connecting=false;r.removeAllListeners("error");r.on("error",noop);if(t.broker.clients[t.id]&&t._authorized){t.broker.unregisterClient(t)}t.conn.emit("drain");t.conn.removeAllListeners("drain");r.destroy();if(typeof e==="function"){e()}}};Client.prototype.pause=function(){this._paused=true};Client.prototype.resume=function(){this._paused=false;this._nextBatch()};function enqueue(e){const t=this.client;t._parsingBatch++;if(t.connackSent||t._parsingBatch===1){p(t,e,t._nextBatch)}else{if(this._queue.length<t.broker.queueLimit){this._queue.push(e)}else{this.emit("error",new Error("Client queue limit reached"))}}}function dequeue(){const e=this._parser._queue;if(e){for(let t=0,r=e.length;t<r;t++){p(this,e[t],this._nextBatch)}this._parser._queue=null}}Client.prototype.emptyOutgoingQueue=function(e){const t=this;const r=t.broker.persistence;function filter(e,n,i){r.outgoingClearMessageId(t,e,i)}h(r.outgoingStream(t),b(filter),e)};function noop(){}},787:(e,t,r)=>{"use strict";const n=r(3809);const{pipeline:i}=r(2781);const s=r(5103);const o=r(8730);const{through:a}=r(7608);const l=r(7279);const u=r(7307)();function Connack(e){this.cmd="connack";this.returnCode=e.returnCode;this.sessionPresent=e.sessionPresent}function ClientPacketStatus(e,t){this.client=e;this.packet=t}const c=[authenticate,setKeepAlive,fetchSubs,restoreSubs,storeWill,registerClient,doConnack,emptyQueue];const d=["","unacceptable protocol version","identifier rejected","Server unavailable","bad user name or password","not authorized"];function handleConnect(e,t,r){clearTimeout(e._connectTimer);e._connectTimer=null;e.connecting=true;e.broker.preConnect(e,t,negate);function negate(n,i){if(!n&&i===true){setImmediate(init,e,t,r)}else{e.connecting=false;r(n)}}}function init(e,t,r){const n=t.clientId;let i=0;if(t.protocolVersion<3||t.protocolVersion>4){i=1}if(t.protocolVersion===3&&n.length>e.broker.maxClientsIdLength){i=2}if(i>0){const t=new Error(d[i]);t.errorCode=i;doConnack({client:e,returnCode:i,sessionPresent:false},r.bind(this,t));return}e.id=n||"aedes_"+u();e.clean=t.clean;e.version=t.protocolVersion;e._will=t.will;e.broker._series(new ClientPacketStatus(e,t),c,{returnCode:0,sessionPresent:false},(function(t){this.client.connecting=false;if(!t){this.client.connected=true;this.client.broker.emit("clientReady",e);this.client.emit("connected")}r(t)}))}function authenticate(e,t){const r=this.client;r.pause();r.broker.authenticate(r,this.packet.username,this.packet.password,negate);function negate(n,i){if(r.closed||r.broker.closed){return}if(!n&&i){r._authorized=true;return t()}if(n){const t=n.returnCode;if(t&&(t>=2&&t<=5)){e.returnCode=t}else{e.returnCode=5}if(!n.message){n.message=d[e.returnCode]}}else{e.returnCode=5;n=new Error(d[e.returnCode])}n.errorCode=e.returnCode;e.client=r;doConnack(e,r.close.bind(r,t.bind(this,n)))}}function setKeepAlive(e,t){if(this.packet.keepalive>0){const e=this.client;e._keepaliveInterval=this.packet.keepalive*1500+1;e._keepaliveTimer=n((function keepaliveTimeout(){e.broker.emit("keepaliveTimeout",e);e.emit("error",new Error("keep alive timeout"))}),e._keepaliveInterval)}t()}function fetchSubs(e,t){const r=this.client;if(!this.packet.clean){r.broker.persistence.subscriptionsByClient({id:r.id,done:t,arg:e},gotSubs);return}e.sessionPresent=false;r.broker.persistence.cleanSubscriptions(r,t)}function gotSubs(e,t,r){if(e){return r.done(e)}r.arg.subs=t;r.done()}function restoreSubs(e,t){if(e.subs){l(this.client,{subscriptions:e.subs},true,t);e.sessionPresent=!!e.subs;return}e.sessionPresent=false;t()}function storeWill(e,t){const r=this.client;r.will=r._will;r.broker.persistence.delWill(r,(function(){if(r.will){r.broker.persistence.putWill(r,r.will,t)}else{t()}}))}function registerClient(e,t){const r=this.client;r.broker.registerClient(r);t()}function doConnack(e,t){const r=e.client||this.client;const n=new Connack(e);s(r,n,(function(e){if(!e){r.broker.emit("connackSent",n,r);r.connackSent=true}t(e)}))}function emptyQueue(e,t){const r=this.client;const n=r.broker.persistence;const s=n.outgoingStream(r);r.resume();i(s,a((function clearQueue(e,t,i){const s=new o(e,r);s.writeCallback=(e,t)=>i(e);n.outgoingUpdate(r,s,emptyQueueFilter)})),t)}function emptyQueueFilter(e,t,r){const n=r.writeCallback;if(e){t.emit("error",e);return n()}const i=r.cmd==="publish"?t.broker.authorizeForward(t,r):true;const o=t.broker.persistence;if(t.clean||!i){o.outgoingClearMessageId(t,r,n)}else{s(t,r,n)}}e.exports=handleConnect},5498:(e,t,r)=>{"use strict";const n=r(787);const i=r(7279);const s=r(5975);const o=r(4554);const a=r(9220);const l=r(6254);const u=r(5170);const c=r(4220);function handle(e,t,r){if(t.cmd==="connect"){if(e.connecting||e.connected){finish(e.conn,t,r);return}n(e,t,r);return}if(!e.connecting&&!e.connected){finish(e.conn,t,r);return}switch(t.cmd){case"publish":o(e,t,r);break;case"subscribe":i(e,t,false,r);break;case"unsubscribe":s(e,t,r);break;case"pubcomp":case"puback":a(e,t,r);break;case"pubrel":l(e,t,r);break;case"pubrec":u(e,t,r);break;case"pingreq":c(e,t,r);break;case"disconnect":e._disconnected=true;e.conn.destroy();r();return;default:e.conn.destroy();r();return}if(e._keepaliveInterval>0){e._keepaliveTimer.reschedule(e._keepaliveInterval)}}function finish(e,t,r){e.destroy();const n=new Error("Invalid protocol");n.info=t;r(n)}e.exports=handle},4220:(e,t,r)=>{"use strict";const n=r(5103);const i={cmd:"pingresp"};function handlePing(e,t,r){e.broker.emit("ping",t,e);n(e,i,r)}e.exports=handlePing},9220:e=>{"use strict";function handlePuback(e,t,r){const n=e.broker.persistence;n.outgoingClearMessageId(e,t,(function(t,n){e.broker.emit("ack",n,e);r(t)}))}e.exports=handlePuback},4554:(e,t,r)=>{"use strict";const n=r(5103);function PubAck(e){this.cmd="puback";this.messageId=e.messageId}function PubRec(e){this.cmd="pubrec";this.messageId=e.messageId}const i=[authorizePublish,enqueuePublish];function handlePublish(e,t,r){const n=t.topic;let s;if(n.length===0){s=new Error("empty topic not allowed in PUBLISH");return r(s)}if(n.indexOf("#")>-1){s=new Error("# is not allowed in PUBLISH");return r(s)}if(n.indexOf("+")>-1){s=new Error("+ is not allowed in PUBLISH");return r(s)}e.broker._series(e,i,t,r)}function enqueuePublish(e,t){const r=this;switch(e.qos){case 2:r.broker.persistence.incomingStorePacket(r,e,(function(i){if(i){return t(i)}n(r,new PubRec(e),t)}));break;case 1:n(r,new PubAck(e),(function(n){if(n){return t(n)}r.broker.publish(e,r,t)}));break;case 0:r.broker.publish(e,r,t);break;default:}}function authorizePublish(e,t){this.broker.authorizePublish(this,e,t)}e.exports=handlePublish},5170:(e,t,r)=>{"use strict";const n=r(5103);function PubRel(e){this.cmd="pubrel";this.messageId=e.messageId}function handlePubrec(e,t,r){const i=new PubRel(t);if(e.clean){n(e,i,r);return}e.broker.persistence.outgoingUpdate(e,i,reply);function reply(t){if(t){r(t)}else{n(e,i,r)}}}e.exports=handlePubrec},6254:(e,t,r)=>{"use strict";const n=r(5103);function ClientPacketStatus(e,t){this.client=e;this.packet=t}function PubComp(e){this.cmd="pubcomp";this.messageId=e.messageId}const i=[pubrelGet,pubrelPublish,pubrelWrite,pubrelDel];function handlePubrel(e,t,r){e.broker._series(new ClientPacketStatus(e,t),i,{},r)}function pubrelGet(e,t){const r=this.client.broker.persistence;r.incomingGetPacket(this.client,this.packet,reply);function reply(r,n){e.packet=n;t(r)}}function pubrelPublish(e,t){this.client.broker.publish(e.packet,this.client,t)}function pubrelWrite(e,t){n(this.client,new PubComp(e.packet),t)}function pubrelDel(e,t){const r=this.client.broker.persistence;r.incomingDelPacket(this.client,e.packet,t)}e.exports=handlePubrel},7279:(e,t,r)=>{"use strict";const n=r(2011);const i=r(6817);const{through:s}=r(7608);const{validateTopic:o,$SYS_PREFIX:a}=r(7608);const l=r(5103);const u=n([authorize,storeSubscriptions,addSubs]);const c=n([authorize,addSubs]);function SubAck(e,t){this.cmd="suback";this.messageId=e.messageId;this.granted=t}function Subscription(e,t,r,n,i){this.qos=e;this.func=t;this.rh=r;this.rap=n;this.nl=i}function SubscribeState(e,t,r,n){this.client=e;this.packet=t;this.actions=r?c:u;this.finish=n;this.subState=[]}function SubState(e,t,r,n,i,s){this.client=e;this.packet=t;this.granted=r;this.rh=n;this.rap=i;this.nl=s}function _dedupe(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n.topic]=n}const r=[];for(const e in t){r.push(t[e])}return r}function handleSubscribe(e,t,r,n){t.subscriptions=t.subscriptions.length===1?t.subscriptions:_dedupe(t.subscriptions);e.broker._parallel(new SubscribeState(e,t,r,n),doSubscribe,t.subscriptions,r?n:completeSubscribe)}function doSubscribe(e,t){const r=new SubState(this.client,this.packet,e.qos,e.rh,e.rap,e.nl);this.subState.push(r);this.actions.call(r,e,t)}function authorize(e,t){const r=o(e.topic,"SUBSCRIBE");if(r){return t(r)}const n=this.client;n.broker.authorizeSubscribe(n,e,t)}function blockDollarSignTopics(e){return function deliverSharp(t,r){if(t.topic.charCodeAt(0)===36){r()}else{e(t,r)}}}function storeSubscriptions(e,t){if(!e||typeof e!=="object"){this.granted=128;return t(null,null)}const r=this.packet;const n=this.client;if(n.clean){return t(null,e)}n.broker.persistence.addSubscriptions(n,r.subscriptions,(function addSub(r){t(r,e)}))}function addSubs(e,t){if(!e||typeof e!=="object"){return t()}const r=this.client;const n=r.broker;const s=e.topic;const o=e.qos;const a=this.rh;const l=this.rap;const u=this.nl;let c=o>0?r.deliverQoS:r.deliver0;const d=c;c=function handlePacketSubscription(e,t){e=new i(e,n);e.nl=u;if(!l)e.retain=false;d(e,t)};if(isStartsWithWildcard(s)){c=blockDollarSignTopics(c)}if(!r.subscriptions[s]){r.subscriptions[s]=new Subscription(o,c,a,l,u);n.subscribe(s,c,t)}else if(r.subscriptions[s].qos!==o||r.subscriptions[s].rh!==a||r.subscriptions[s].rap!==l||r.subscriptions[s].nl!==u){n.unsubscribe(s,r.subscriptions[s].func);r.subscriptions[s]=new Subscription(o,c,a,l,u);n.subscribe(s,c,t)}else{t()}}function isStartsWithWildcard(e){const t=e.charCodeAt(0);return t===43||t===35}function completeSubscribe(e){const t=this.finish;if(e){return t(e)}const r=this.packet;const n=this.client;if(r.messageId!==undefined){l(n,new SubAck(r,this.subState.map((e=>e.granted))),t)}else{t()}const o=n.broker;const u=r.subscriptions;const c=[];for(let e=0;e<u.length;e++){if(this.subState[e].granted!==128){c.push(u[e].topic)}u[e].qos=this.subState[e].granted}this.subState=[];o.emit("subscribe",u,n);o.publish({topic:a+o.id+"/new/subscribes",payload:Buffer.from(JSON.stringify({clientId:n.id,subs:u}),"utf8")},noop);if(c.length>0){const e=o.persistence;const t=e.createRetainedStreamCombi(c);t.pipe(s((function sendRetained(e,t,r){e=new i({cmd:e.cmd,qos:e.qos,topic:e.topic,payload:e.payload,retain:true},o);e.brokerId=null;n.deliverQoS(e,r)})))}}function noop(){}e.exports=handleSubscribe},5975:(e,t,r)=>{"use strict";const n=r(5103);const{validateTopic:i,$SYS_PREFIX:s}=r(7608);function UnSubAck(e){this.cmd="unsuback";this.messageId=e.messageId}function UnsubscribeState(e,t,r){this.client=e;this.packet=t;this.finish=r}function handleUnsubscribe(e,t,r){const n=e.broker;const s=t.unsubscriptions;let o;for(let e=0;e<s.length;e++){o=i(s[e],"UNSUBSCRIBE");if(o){return r(o)}}if(t.messageId!==undefined){if(e.clean){return actualUnsubscribe(e,t,r)}n.persistence.removeSubscriptions(e,s,(function(n){if(n){return r(n)}actualUnsubscribe(e,t,r)}))}else{actualUnsubscribe(e,t,r)}}function actualUnsubscribe(e,t,r){const n=e.broker;n._parallel(new UnsubscribeState(e,t,r),doUnsubscribe,t.unsubscriptions,completeUnsubscribe)}function doUnsubscribe(e,t){const r=this.client;const n=r.broker;const i=r.subscriptions[e];if(i){const s=i.func;delete r.subscriptions[e];n.unsubscribe(e,s,t)}else{t()}}function completeUnsubscribe(e){const t=this.client;if(e){t.emit("error",e);return}const r=this.packet;const i=this.finish;if(r.messageId!==undefined){n(t,new UnSubAck(r),i)}else{i()}if((!t.closed||t.clean===true)&&r.unsubscriptions.length>0){t.broker.emit("unsubscribe",r.unsubscriptions,t);t.broker.publish({topic:s+t.broker.id+"/new/unsubscribes",payload:Buffer.from(JSON.stringify({clientId:t.id,subs:r.unsubscriptions}),"utf8")},noop)}}function noop(){}e.exports=handleUnsubscribe},8730:(e,t,r)=>{"use strict";const n=r(6817);const i=r(3837);function QoSPacket(e,t){n.call(this,e,t.broker);this.writeCallback=t._onError.bind(t);if(!e.messageId){this.messageId=t._nextId;if(t._nextId>=65535){t._nextId=1}else{t._nextId++}}else{this.messageId=e.messageId}}i.inherits(QoSPacket,n);e.exports=QoSPacket},7608:(e,t,r)=>{"use strict";const{Transform:n,Writable:i}=r(2781);function validateTopic(e,t){if(!e||e.length===0){return new Error("impossible to "+t+" to an empty topic")}const r=e.length-1;const n=r-1;const i=n>0&&e.charCodeAt(n)!==47;for(let n=0;n<e.length;n++){switch(e.charCodeAt(n)){case 35:{const e=n!==r;if(e||i){return new Error("# is only allowed in "+t+" in the last position")}break}case 43:{const i=n<r-1&&e.charCodeAt(n+1)!==47;const s=n>1&&e.charCodeAt(n-1)!==47;if(i||s){return new Error("+ is only allowed in "+t+" between /")}break}}}}function through(e){return new n({objectMode:true,transform:e})}function bulk(e){return new i({objectMode:true,writev:function(t,r){e(t.map((e=>e.chunk)),r)}})}e.exports={validateTopic:validateTopic,through:through,bulk:bulk,$SYS_PREFIX:"$SYS/"}},5103:(e,t,r)=>{"use strict";const n=r(2825);function write(e,t,r){let i=null;if(e.connecting||e.connected){try{const i=n.writeToStream(t,e.conn);if(!i&&!e.errored){e.conn.once("drain",r);return}}catch(e){i=new Error("packet received not valid")}}else{i=new Error("connection closed")}setImmediate(r,i,e)}e.exports=write},2215:(e,t,r)=>{"use strict";const{Buffer:n}=r(4300);const i=Symbol.for("BufferList");function BufferList(e){if(!(this instanceof BufferList)){return new BufferList(e)}BufferList._init.call(this,e)}BufferList._init=function _init(e){Object.defineProperty(this,i,{value:true});this._bufs=[];this.length=0;if(e){this.append(e)}};BufferList.prototype._new=function _new(e){return new BufferList(e)};BufferList.prototype._offset=function _offset(e){if(e===0){return[0,0]}let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1){return[r,e-t]}t=n}};BufferList.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++){r+=this._bufs[e].length}return r};BufferList.prototype.get=function get(e){if(e>this.length||e<0){return undefined}const t=this._offset(e);return this._bufs[t[0]][t[1]]};BufferList.prototype.slice=function slice(e,t){if(typeof e==="number"&&e<0){e+=this.length}if(typeof t==="number"&&t<0){t+=this.length}return this.copy(null,0,e,t)};BufferList.prototype.copy=function copy(e,t,r,i){if(typeof r!=="number"||r<0){r=0}if(typeof i!=="number"||i>this.length){i=this.length}if(r>=this.length){return e||n.alloc(0)}if(i<=0){return e||n.alloc(0)}const copy=!!e;const s=this._offset(r);const o=i-r;let a=o;let l=copy&&t||0;let u=s[1];if(r===0&&i===this.length){if(!copy){return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length)}for(let t=0;t<this._bufs.length;t++){this._bufs[t].copy(e,l);l+=this._bufs[t].length}return e}if(a<=this._bufs[s[0]].length-u){return copy?this._bufs[s[0]].copy(e,t,u,u+a):this._bufs[s[0]].slice(u,u+a)}if(!copy){e=n.allocUnsafe(o)}for(let t=s[0];t<this._bufs.length;t++){const r=this._bufs[t].length-u;if(a>r){this._bufs[t].copy(e,l,u);l+=r}else{this._bufs[t].copy(e,l,u,u+a);l+=r;break}a-=r;if(u){u=0}}if(e.length>l)return e.slice(0,l);return e};BufferList.prototype.shallowSlice=function shallowSlice(e,t){e=e||0;t=typeof t!=="number"?this.length:t;if(e<0){e+=this.length}if(t<0){t+=this.length}if(e===t){return this._new()}const r=this._offset(e);const n=this._offset(t);const i=this._bufs.slice(r[0],n[0]+1);if(n[1]===0){i.pop()}else{i[i.length-1]=i[i.length-1].slice(0,n[1])}if(r[1]!==0){i[0]=i[0].slice(r[1])}return this._new(i)};BufferList.prototype.toString=function toString(e,t,r){return this.slice(t,r).toString(e)};BufferList.prototype.consume=function consume(e){e=Math.trunc(e);if(Number.isNaN(e)||e<=0)return this;while(this._bufs.length){if(e>=this._bufs[0].length){e-=this._bufs[0].length;this.length-=this._bufs[0].length;this._bufs.shift()}else{this._bufs[0]=this._bufs[0].slice(e);this.length-=e;break}}return this};BufferList.prototype.duplicate=function duplicate(){const e=this._new();for(let t=0;t<this._bufs.length;t++){e.append(this._bufs[t])}return e};BufferList.prototype.append=function append(e){if(e==null){return this}if(e.buffer){this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength))}else if(Array.isArray(e)){for(let t=0;t<e.length;t++){this.append(e[t])}}else if(this._isBufferList(e)){for(let t=0;t<e._bufs.length;t++){this.append(e._bufs[t])}}else{if(typeof e==="number"){e=e.toString()}this._appendBuffer(n.from(e))}return this};BufferList.prototype._appendBuffer=function appendBuffer(e){this._bufs.push(e);this.length+=e.length};BufferList.prototype.indexOf=function(e,t,r){if(r===undefined&&typeof t==="string"){r=t;t=undefined}if(typeof e==="function"||Array.isArray(e)){throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.')}else if(typeof e==="number"){e=n.from([e])}else if(typeof e==="string"){e=n.from(e,r)}else if(this._isBufferList(e)){e=e.slice()}else if(Array.isArray(e.buffer)){e=n.from(e.buffer,e.byteOffset,e.byteLength)}else if(!n.isBuffer(e)){e=n.from(e)}t=Number(t||0);if(isNaN(t)){t=0}if(t<0){t=this.length+t}if(t<0){t=0}if(e.length===0){return t>this.length?this.length:t}const i=this._offset(t);let s=i[0];let o=i[1];for(;s<this._bufs.length;s++){const t=this._bufs[s];while(o<t.length){const r=t.length-o;if(r>=e.length){const r=t.indexOf(e,o);if(r!==-1){return this._reverseOffset([s,r])}o=t.length-e.length+1}else{const t=this._reverseOffset([s,o]);if(this._match(t,e)){return t}o++}}o=0}return-1};BufferList.prototype._match=function(e,t){if(this.length-e<t.length){return false}for(let r=0;r<t.length;r++){if(this.get(e+r)!==t[r]){return false}}return true};(function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e){(function(t){if(e[t]===null){BufferList.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}}else{BufferList.prototype[t]=function(r=0){return this.slice(r,r+e[t])[t](0)}}})(t)}})();BufferList.prototype._isBufferList=function _isBufferList(e){return e instanceof BufferList||BufferList.isBufferList(e)};BufferList.isBufferList=function isBufferList(e){return e!=null&&e[i]};e.exports=BufferList},3095:(e,t,r)=>{"use strict";const n=r(1621).Duplex;const i=r(757);const s=r(2215);function BufferListStream(e){if(!(this instanceof BufferListStream)){return new BufferListStream(e)}if(typeof e==="function"){this._callback=e;const t=function piper(e){if(this._callback){this._callback(e);this._callback=null}}.bind(this);this.on("pipe",(function onPipe(e){e.on("error",t)}));this.on("unpipe",(function onUnpipe(e){e.removeListener("error",t)}));e=null}s._init.call(this,e);n.call(this)}i(BufferListStream,n);Object.assign(BufferListStream.prototype,s.prototype);BufferListStream.prototype._new=function _new(e){return new BufferListStream(e)};BufferListStream.prototype._write=function _write(e,t,r){this._appendBuffer(e);if(typeof r==="function"){r()}};BufferListStream.prototype._read=function _read(e){if(!this.length){return this.push(null)}e=Math.min(e,this.length);this.push(this.slice(0,e));this.consume(e)};BufferListStream.prototype.end=function end(e){n.prototype.end.call(this,e);if(this._callback){this._callback(null,this.slice());this._callback=null}};BufferListStream.prototype._destroy=function _destroy(e,t){this._bufs.length=0;this.length=0;t(e)};BufferListStream.prototype._isBufferList=function _isBufferList(e){return e instanceof BufferListStream||e instanceof s||BufferListStream.isBufferList(e)};BufferListStream.isBufferList=s.isBufferList;e.exports=BufferListStream;e.exports.BufferListStream=BufferListStream;e.exports.BufferList=s},7243:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}n++;if(e==="%c"){i=n}}));t.splice(i,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(1282)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},1282:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(3212);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;let n;let i;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const i=n-(t||n);r.diff=i;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if(t==="%%"){return"%"}s++;const i=createDebug.formatters[n];if(typeof i==="function"){const n=e[s];t=i.call(r,n);e.splice(s,1);s--}return t}));createDebug.formatArgs.call(r,e);const o=r.log||createDebug.log;o.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(r!==null){return r}if(n!==createDebug.namespaces){n=createDebug.namespaces;i=createDebug.enabled(e)}return i},set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let t;const r=(typeof e==="string"?e:"").split(/[\s,]+/);const n=r.length;for(t=0;t<n;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.slice(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},6248:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(7243)}else{e.exports=r(4746)}},4746:(e,t,r)=>{const n=r(6224);const i=r(3837);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(6750);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const i="[3"+(n<8?n:"8;5;"+n);const s=`  ${i};1m${r} [0m`;t[0]=s+t[0].split("\n").join("\n"+s);t.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(i.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(1282)(t);const{formatters:s}=e.exports;s.o=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};s.O=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts)}},711:(e,t,r)=>{var n=r(3550);var noop=function(){};var isRequest=function(e){return e.setHeader&&typeof e.abort==="function"};var isChildProcess=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3};var eos=function(e,t,r){if(typeof t==="function")return eos(e,null,t);if(!t)t={};r=n(r||noop);var i=e._writableState;var s=e._readableState;var o=t.readable||t.readable!==false&&e.readable;var a=t.writable||t.writable!==false&&e.writable;var l=false;var onlegacyfinish=function(){if(!e.writable)onfinish()};var onfinish=function(){a=false;if(!o)r.call(e)};var onend=function(){o=false;if(!a)r.call(e)};var onexit=function(t){r.call(e,t?new Error("exited with error code: "+t):null)};var onerror=function(t){r.call(e,t)};var onclose=function(){process.nextTick(onclosenexttick)};var onclosenexttick=function(){if(l)return;if(o&&!(s&&(s.ended&&!s.destroyed)))return r.call(e,new Error("premature close"));if(a&&!(i&&(i.ended&&!i.destroyed)))return r.call(e,new Error("premature close"))};var onrequest=function(){e.req.on("finish",onfinish)};if(isRequest(e)){e.on("complete",onfinish);e.on("abort",onclose);if(e.req)onrequest();else e.on("request",onrequest)}else if(a&&!i){e.on("end",onlegacyfinish);e.on("close",onlegacyfinish)}if(isChildProcess(e))e.on("exit",onexit);e.on("end",onend);e.on("finish",onfinish);if(t.error!==false)e.on("error",onerror);e.on("close",onclose);return function(){l=true;e.removeListener("complete",onfinish);e.removeListener("abort",onclose);e.removeListener("request",onrequest);if(e.req)e.req.removeListener("finish",onfinish);e.removeListener("end",onlegacyfinish);e.removeListener("close",onlegacyfinish);e.removeListener("finish",onfinish);e.removeListener("exit",onexit);e.removeListener("end",onend);e.removeListener("error",onerror);e.removeListener("close",onclose)}};e.exports=eos},2011:(e,t,r)=>{"use strict";var n=r(9978);var i=[];function fastfall(e,t){if(Array.isArray(e)){t=e;e=null}var r=n(Holder);return t?compiled:fall;function fall(){var t=r.get();t.release=release;if(arguments.length===3){t.context=arguments[0];t.list=arguments[1];t.callback=arguments[2]||noop}else{t.context=e;t.list=arguments[0];t.callback=arguments[1]||noop}t.work()}function release(e){r.release(e)}function compiled(){var n=r.get();n.release=release;n.list=t;var i;var s;var o=arguments.length-1;n.context=this||e;n.callback=arguments[o]||noop;switch(o){case 0:n.work();break;case 1:n.work(null,arguments[0]);break;case 2:n.work(null,arguments[0],arguments[1]);break;case 3:n.work(null,arguments[0],arguments[1],arguments[2]);break;case 4:n.work(null,arguments[0],arguments[1],arguments[2],arguments[3]);break;default:i=new Array(o+1);i[0]=null;for(s=0;s<o;s++){i[s+1]=arguments[s]}n.work.apply(null,i)}}}function noop(){}function Holder(){this.list=i;this.callback=noop;this.count=0;this.context=undefined;this.release=noop;var e=this;this.work=function work(){if(arguments.length>0&&arguments[0]){return e.callback.call(e.context,arguments[0])}var t=arguments.length;var r;var n;var s;if(e.count<e.list.length){s=e.list[e.count++];switch(t){case 0:case 1:return s.call(e.context,work);case 2:return s.call(e.context,arguments[1],work);case 3:return s.call(e.context,arguments[1],arguments[2],work);case 4:return s.call(e.context,arguments[1],arguments[2],arguments[3],work);default:n=new Array(t);for(r=1;r<t;r++){n[r-1]=arguments[r]}n[t-1]=work;s.apply(e.context,n)}}else{switch(t){case 0:e.callback.call(e.context);break;case 1:e.callback.call(e.context,arguments[0]);break;case 2:e.callback.call(e.context,arguments[0],arguments[1]);break;case 3:e.callback.call(e.context,arguments[0],arguments[1],arguments[2]);break;case 4:e.callback.call(e.context,arguments[0],arguments[1],arguments[2],arguments[3]);break;default:n=new Array(t);for(r=0;r<t;r++){n[r]=arguments[r]}e.callback.apply(e.context,n)}e.context=undefined;e.list=i;e.count=0;e.release(e)}}}e.exports=fastfall},9036:(e,t,r)=>{"use strict";var n=r(3191);var i=r(9978);var s={released:nop,results:true};function fastparallel(e){e=n(s,e);var t=e.released;var r=i(e.results?ResultsHolder:NoResultsHolder);var o=i(SingleCaller);var a=e.results?goResultsArray:goNoResultsArray;var l=e.results?goResultsFunc:goNoResultsFunc;return parallel;function parallel(e,n,i,s){var o=r.get();s=s||nop;if(n.length===0){s.call(e);t(o)}else{o._callback=s;o._callThat=e;o._release=release;if(typeof n==="function"){l(e,n,i,o)}else{a(e,n,i,o)}if(o._count===0){o.release()}}}function release(e){r.release(e);t(e)}function singleCallerRelease(e){o.release(e)}function goResultsFunc(e,t,r,n){var i=null;n._count=r.length;n._results=new Array(n._count);for(var s=0;s<r.length;s++){i=o.get();i._release=singleCallerRelease;i.parent=n;i.pos=s;if(e){t.call(e,r[s],i.release)}else{t(r[s],i.release)}}}function goResultsArray(e,t,r,n){var i=null;var s=nop;n._count=t.length;n._results=new Array(n._count);for(var a=0;a<t.length;a++){i=o.get();i._release=singleCallerRelease;i.parent=n;i.pos=a;s=t[a];if(e){if(s.length===1)s.call(e,i.release);else s.call(e,r,i.release)}else{if(s.length===1)s(i.release);else s(r,i.release)}}}function goNoResultsFunc(e,t,r,n){n._count=r.length;for(var i=0;i<r.length;i++){if(e){t.call(e,r[i],n.release)}else{t(r[i],n.release)}}}function goNoResultsArray(e,t,r,n){var i=null;n._count=t.length;for(var s=0;s<t.length;s++){i=t[s];if(e){if(i.length===1){i.call(e,n.release)}else{i.call(e,r,n.release)}}else{if(i.length===1){i(n.release)}else{i(r,n.release)}}}}}function NoResultsHolder(){this._count=-1;this._callback=nop;this._callThat=null;this._release=null;this.next=null;var e=this;var t=0;this.release=function(){var r=e._callback;if(++t===e._count||e._count===0){if(e._callThat){r.call(e._callThat)}else{r()}e._callback=nop;e._callThat=null;t=0;e._release(e)}}}function SingleCaller(){this.pos=-1;this._release=nop;this.parent=null;this.next=null;var e=this;this.release=function(t,r){e.parent.release(t,e.pos,r);e.pos=-1;e.parent=null;e._release(e)}}function ResultsHolder(){this._count=-1;this._callback=nop;this._results=null;this._err=null;this._callThat=null;this._release=nop;this.next=null;var e=this;var t=0;this.release=function(r,n,i){e._err=e._err||r;if(n>=0){e._results[n]=i}var s=e._callback;if(++t===e._count||e._count===0){if(e._callThat){s.call(e._callThat,e._err,e._results)}else{s(e._err,e._results)}e._callback=nop;e._results=null;e._err=null;e._callThat=null;t=0;e._release(e)}}}function nop(){}e.exports=fastparallel},3687:e=>{"use strict";var t={results:true};function fastseries(e){e=Object.assign({},t,e);var r;var n;if(e.results){r=resultEach;n=resultList}else{r=noResultEach;n=noResultList}return series;function series(e,t,i,s){s=(s||nop).bind(e);if(t.length===0){s.call(e)}else if(t.bind){if(e){t=t.bind(e)}r(t,i,s)}else{var o;if(e){var a=t.length;o=new Array(a);for(var l=0;l<a;l++){o[l]=t[l].bind(e)}}else{o=t}n(o,i,s)}}}function noResultEach(e,t,r){var n=0;var i=t.length;release();function release(){if(n<i){makeCallTwo(e,t[n++],release)}else{r()}}}function noResultList(e,t,r){var n=0;var i=e.length;var s;if(e[0].length===1){s=makeCallOne}else{s=makeCallTwo}release();function release(){if(n<i){s(e[n++],t,release)}else{r()}}}function resultEach(e,t,r){var n=0;var i=t.length;var s=new Array(i);release(null,null);function release(o,a){if(o){r(o);return}if(n>0){s[n-1]=a}if(n<i){makeCallTwo(e,t[n++],release)}else{r(null,s)}}}function resultList(e,t,r){var n=0;var i=e.length;var s;if(e[0].length===1){s=makeCallOne}else{s=makeCallTwo}var o=new Array(i);release(null,null);function release(a,l){if(a){r(a);return}if(n>0){o[n-1]=l}if(n<i){s(e[n++],t,release)}else{r(null,o)}}}function makeCallOne(e,t,r){e(r)}function makeCallTwo(e,t,r){e(t,r)}function nop(){}e.exports=fastseries},7307:(e,t,r)=>{"use strict";const n=r(429);const i=r(5941);const s=Math.pow(2,31)-1;const o=r(4300).Buffer;const a=o.from("==","base64");function hyperid(e){let t=false;let r=false;if(typeof e==="boolean"){t=e}else{e=e||{};r=!!e.urlSafe;t=!!e.fixedLength}generate.uuid=n();generate.decode=decode;let i=baseId(generate.uuid,r);let o=Math.floor(e.startFrom||0);if(isNaN(o)||!(s>o&&o>=0)){throw new Error([`when passed, opts.startFrom must be a number between 0 and ${s}.`,"Only the integer part matters.",`- got: ${e.startFrom}`].join("\n"))}return generate;function generate(){let e;if(o===s){generate.uuid=n();i=baseId(generate.uuid,r);o=0}if(t){e=i+`0000000000${o}`.slice(-10)}else{e=i+o}o=o+1|0;return e}}function baseId(e,t){const r=o.concat([o.from(i.parse(e)),a]).toString("base64");if(t){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"-")}return r.replace(/=+$/,"/")}function decode(e,t){t=t||{};const r=!!t.urlSafe;if(r){e=e.replace(/-([^-]*)$/,"/"+"$1").replace(/-/g,"+").replace(/_/g,"/")}if(e.length<22){return null}const n=e.lastIndexOf("/");if(n===-1){return null}const s=e.substring(0,n);const a=Number(e.substring(n+1));if(!s||isNaN(a)){return null}const l={uuid:i.unparse(o.from(s+"==","base64")),count:a};return l}e.exports=hyperid;e.exports.decode=decode},5289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return a.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return d.default}});var n=_interopRequireDefault(r(2223));var i=_interopRequireDefault(r(8221));var s=_interopRequireDefault(r(476));var o=_interopRequireDefault(r(2236));var a=_interopRequireDefault(r(1360));var l=_interopRequireDefault(r(6859));var u=_interopRequireDefault(r(7573));var c=_interopRequireDefault(r(2895));var d=_interopRequireDefault(r(1532));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},3393:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return n.default.createHash("md5").update(e).digest()}var i=md5;t["default"]=i},1360:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r="00000000-0000-0000-0000-000000000000";t["default"]=r},1532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(7573));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,n.default)(e)){throw TypeError("Invalid UUID")}let t;const r=new Uint8Array(16);r[0]=(t=parseInt(e.slice(0,8),16))>>>24;r[1]=t>>>16&255;r[2]=t>>>8&255;r[3]=t&255;r[4]=(t=parseInt(e.slice(9,13),16))>>>8;r[5]=t&255;r[6]=(t=parseInt(e.slice(14,18),16))>>>8;r[7]=t&255;r[8]=(t=parseInt(e.slice(19,23),16))>>>8;r[9]=t&255;r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;r[11]=t/4294967296&255;r[12]=t>>>24&255;r[13]=t>>>16&255;r[14]=t>>>8&255;r[15]=t&255;return r}var i=parse;t["default"]=i},4363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t["default"]=r},5493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=rng;var n=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=new Uint8Array(256);let s=i.length;function rng(){if(s>i.length-16){n.default.randomFillSync(i);s=0}return i.slice(s,s+=16)}},3571:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return n.default.createHash("sha1").update(e).digest()}var i=sha1;t["default"]=i},2895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(7573));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=[];for(let e=0;e<256;++e){i.push((e+256).toString(16).substr(1))}function stringify(e,t=0){const r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,n.default)(r)){throw TypeError("Stringified UUID is invalid")}return r}var s=stringify;t["default"]=s},2223:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(5493));var i=_interopRequireDefault(r(2895));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let s;let o;let a=0;let l=0;function v1(e,t,r){let u=t&&r||0;const c=t||new Array(16);e=e||{};let d=e.node||s;let p=e.clockseq!==undefined?e.clockseq:o;if(d==null||p==null){const t=e.random||(e.rng||n.default)();if(d==null){d=s=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(p==null){p=o=(t[6]<<8|t[7])&16383}}let h=e.msecs!==undefined?e.msecs:Date.now();let b=e.nsecs!==undefined?e.nsecs:l+1;const _=h-a+(b-l)/1e4;if(_<0&&e.clockseq===undefined){p=p+1&16383}if((_<0||h>a)&&e.nsecs===undefined){b=0}if(b>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}a=h;l=b;o=p;h+=122192928e5;const g=((h&268435455)*1e4+b)%4294967296;c[u++]=g>>>24&255;c[u++]=g>>>16&255;c[u++]=g>>>8&255;c[u++]=g&255;const m=h/4294967296*1e4&268435455;c[u++]=m>>>8&255;c[u++]=m&255;c[u++]=m>>>24&15|16;c[u++]=m>>>16&255;c[u++]=p>>>8|128;c[u++]=p&255;for(let e=0;e<6;++e){c[u+e]=d[e]}return t||(0,i.default)(c)}var u=v1;t["default"]=u},8221:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(741));var i=_interopRequireDefault(r(3393));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=(0,n.default)("v3",48,i.default);var o=s;t["default"]=o},741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=_default;t.URL=t.DNS=void 0;var n=_interopRequireDefault(r(2895));var i=_interopRequireDefault(r(1532));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r){t.push(e.charCodeAt(r))}return t}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o;function _default(e,t,r){function generateUUID(e,s,o,a){if(typeof e==="string"){e=stringToBytes(e)}if(typeof s==="string"){s=(0,i.default)(s)}if(s.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let l=new Uint8Array(16+e.length);l.set(s);l.set(e,s.length);l=r(l);l[6]=l[6]&15|t;l[8]=l[8]&63|128;if(o){a=a||0;for(let e=0;e<16;++e){o[a+e]=l[e]}return o}return(0,n.default)(l)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=s;generateUUID.URL=o;return generateUUID}},476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(5493));var i=_interopRequireDefault(r(2895));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,r){e=e||{};const s=e.random||(e.rng||n.default)();s[6]=s[6]&15|64;s[8]=s[8]&63|128;if(t){r=r||0;for(let e=0;e<16;++e){t[r+e]=s[e]}return t}return(0,i.default)(s)}var s=v4;t["default"]=s},2236:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(741));var i=_interopRequireDefault(r(3571));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=(0,n.default)("v5",80,i.default);var o=s;t["default"]=o},7573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(4363));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&n.default.test(e)}var i=validate;t["default"]=i},6859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(7573));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,n.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}var i=version;t["default"]=i},429:(e,t,r)=>{"use strict";const n=r(5289);const i=r(6113);e.exports=typeof i.randomUUID==="function"?i.randomUUID:n.v4},757:(e,t,r)=>{try{var n=r(3837);if(typeof n.inherits!=="function")throw"";e.exports=n.inherits}catch(t){e.exports=r(6320)}},6320:e=>{if(typeof Object.create==="function"){e.exports=function inherits(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}}}},6992:(e,t,r)=>{"use strict";const{Qlobber:n}=r(660);const i=r(9491);const s=r(9036);function MQEmitter(e){if(!(this instanceof MQEmitter)){return new MQEmitter(e)}const t=this;e=e||{};e.matchEmptyLevels=e.matchEmptyLevels===undefined?true:!!e.matchEmptyLevels;e.separator=e.separator||"/";e.wildcardOne=e.wildcardOne||"+";e.wildcardSome=e.wildcardSome||"#";this._messageQueue=[];this._messageCallbacks=[];this._parallel=s({results:false,released:released});this.concurrency=e.concurrency||0;this.current=0;this._doing=false;this._matcher=new n({match_empty_levels:e.matchEmptyLevels,separator:e.separator,wildcard_one:e.wildcardOne,wildcard_some:e.wildcardSome});this.closed=false;this._released=released;function released(){t.current--;const e=t._messageQueue.shift();const r=t._messageCallbacks.shift();if(e){t._do(e,r)}else{t._doing=false}}}Object.defineProperty(MQEmitter.prototype,"length",{get:function(){return this._messageQueue.length},enumerable:true});MQEmitter.prototype.on=function on(e,t,r){i(e);i(t);this._matcher.add(e,t);if(r){setImmediate(r)}return this};MQEmitter.prototype.removeListener=function removeListener(e,t,r){i(e);i(t);const n=this;setImmediate((function(){n._matcher.remove(e,t);if(r){r()}}));return this};MQEmitter.prototype.removeAllListeners=function removeListener(e,t){i(e);this._matcher.remove(e);if(t){setImmediate(t)}return this};MQEmitter.prototype.emit=function emit(e,t){i(e);t=t||noop;if(this.closed){return t(new Error("mqemitter is closed"))}if(this.concurrency>0&&this.current>=this.concurrency){this._messageQueue.push(e);this._messageCallbacks.push(t);if(!this._doing){process.emitWarning("MqEmitter leak detected",{detail:"For more info check: https://github.com/mcollina/mqemitter/pull/94"});this._released()}}else{this._do(e,t)}return this};MQEmitter.prototype.close=function close(e){this.closed=true;setImmediate(e);return this};MQEmitter.prototype._do=function(e,t){this._doing=true;const r=this._matcher.match(e.topic);this.current++;this._parallel(this,r,e,t);return this};function noop(){}e.exports=MQEmitter},1378:(e,t,r)=>{const n=e.exports;const{Buffer:i}=r(4300);n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"};n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0};n.requiredHeaderFlagsErrors={};for(const e in n.requiredHeaderFlags){const t=n.requiredHeaderFlags[e];n.requiredHeaderFlagsErrors[e]="Invalid header flag bits, must be 0x"+t.toString(16)+" for "+n.types[e]+" packet"}n.codes={};for(const e in n.types){const t=n.types[e];n.codes[t]=e}n.CMD_SHIFT=4;n.CMD_MASK=240;n.DUP_MASK=8;n.QOS_MASK=3;n.QOS_SHIFT=1;n.RETAIN_MASK=1;n.VARBYTEINT_MASK=127;n.VARBYTEINT_FIN_MASK=128;n.VARBYTEINT_MAX=268435455;n.SESSIONPRESENT_MASK=1;n.SESSIONPRESENT_HEADER=i.from([n.SESSIONPRESENT_MASK]);n.CONNACK_HEADER=i.from([n.codes.connack<<n.CMD_SHIFT]);n.USERNAME_MASK=128;n.PASSWORD_MASK=64;n.WILL_RETAIN_MASK=32;n.WILL_QOS_MASK=24;n.WILL_QOS_SHIFT=3;n.WILL_FLAG_MASK=4;n.CLEAN_SESSION_MASK=2;n.CONNECT_HEADER=i.from([n.codes.connect<<n.CMD_SHIFT]);n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11};n.propertiesCodes={};for(const e in n.properties){const t=n.properties[e];n.propertiesCodes[t]=e}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function genHeader(e){return[0,1,2].map((t=>[0,1].map((r=>[0,1].map((s=>{const o=i.alloc(1);o.writeUInt8(n.codes[e]<<n.CMD_SHIFT|(r?n.DUP_MASK:0)|t<<n.QOS_SHIFT|s,0,true);return o}))))))}n.PUBLISH_HEADER=genHeader("publish");n.SUBSCRIBE_HEADER=genHeader("subscribe");n.SUBSCRIBE_OPTIONS_QOS_MASK=3;n.SUBSCRIBE_OPTIONS_NL_MASK=1;n.SUBSCRIBE_OPTIONS_NL_SHIFT=2;n.SUBSCRIBE_OPTIONS_RAP_MASK=1;n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3;n.SUBSCRIBE_OPTIONS_RH_MASK=3;n.SUBSCRIBE_OPTIONS_RH_SHIFT=4;n.SUBSCRIBE_OPTIONS_RH=[0,16,32];n.SUBSCRIBE_OPTIONS_NL=4;n.SUBSCRIBE_OPTIONS_RAP=8;n.SUBSCRIBE_OPTIONS_QOS=[0,1,2];n.UNSUBSCRIBE_HEADER=genHeader("unsubscribe");n.ACKS={unsuback:genHeader("unsuback"),puback:genHeader("puback"),pubcomp:genHeader("pubcomp"),pubrel:genHeader("pubrel"),pubrec:genHeader("pubrec")};n.SUBACK_HEADER=i.from([n.codes.suback<<n.CMD_SHIFT]);n.VERSION3=i.from([3]);n.VERSION4=i.from([4]);n.VERSION5=i.from([5]);n.VERSION131=i.from([131]);n.VERSION132=i.from([132]);n.QOS=[0,1,2].map((e=>i.from([e])));n.EMPTY={pingreq:i.from([n.codes.pingreq<<4,0]),pingresp:i.from([n.codes.pingresp<<4,0]),disconnect:i.from([n.codes.disconnect<<4,0])};n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"};n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"};n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"};n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}},2262:(e,t,r)=>{const n=r(5671);const i=r(2361);const{Buffer:s}=r(4300);function generate(e,t){const r=new Accumulator;n(e,r,t);return r.concat()}class Accumulator extends i{constructor(){super();this._array=new Array(20);this._i=0}write(e){this._array[this._i++]=e;return true}concat(){let e=0;const t=new Array(this._array.length);const r=this._array;let n=0;let i;for(i=0;i<r.length&&r[i]!==undefined;i++){if(typeof r[i]!=="string")t[i]=r[i].length;else t[i]=s.byteLength(r[i]);e+=t[i]}const o=s.allocUnsafe(e);for(i=0;i<r.length&&r[i]!==undefined;i++){if(typeof r[i]!=="string"){r[i].copy(o,n);n+=t[i]}else{o.write(r[i],n);n+=t[i]}}return o}destroy(e){if(e)this.emit("error",e)}}e.exports=generate},2825:(e,t,r)=>{t.parser=r(9988).parser;t.generate=r(2262);t.writeToStream=r(5671)},389:(e,t,r)=>{const{Buffer:n}=r(4300);const i=65536;const s={};const o=n.isBuffer(n.from([1,2]).subarray(0,1));function generateBuffer(e){const t=n.allocUnsafe(2);t.writeUInt8(e>>8,0);t.writeUInt8(e&255,0+1);return t}function generateCache(){for(let e=0;e<i;e++){s[e]=generateBuffer(e)}}function genBufVariableByteInt(e){const t=4;let r=0;let i=0;const s=n.allocUnsafe(t);do{r=e%128|0;e=e/128|0;if(e>0)r=r|128;s.writeUInt8(r,i++)}while(e>0&&i<t);if(e>0){i=0}return o?s.subarray(0,i):s.slice(0,i)}function generate4ByteBuffer(e){const t=n.allocUnsafe(4);t.writeUInt32BE(e,0);return t}e.exports={cache:s,generateCache:generateCache,generateNumber:generateBuffer,genBufVariableByteInt:genBufVariableByteInt,generate4ByteBuffer:generate4ByteBuffer}},351:e=>{class Packet{constructor(){this.cmd=null;this.retain=false;this.qos=0;this.dup=false;this.length=-1;this.topic=null;this.payload=null}}e.exports=Packet},9988:(e,t,r)=>{const n=r(3095);const i=r(2361);const s=r(351);const o=r(1378);const a=r(6248)("mqtt-packet:parser");class Parser extends i{constructor(){super();this.parser=this.constructor.parser}static parser(e){if(!(this instanceof Parser))return(new Parser).parser(e);this.settings=e||{};this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"];this._resetState();return this}_resetState(){a("_resetState: resetting packet, error, _list, and _stateCounter");this.packet=new s;this.error=null;this._list=n();this._stateCounter=0}parse(e){if(this.error)this._resetState();this._list.append(e);a("parse: current state: %s",this._states[this._stateCounter]);while((this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error){this._stateCounter++;a("parse: state complete. _stateCounter is now: %d",this._stateCounter);a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length);if(this._stateCounter>=this._states.length)this._stateCounter=0}a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length);return this._list.length}_parseHeader(){const e=this._list.readUInt8(0);const t=e>>o.CMD_SHIFT;this.packet.cmd=o.types[t];const r=e&15;const n=o.requiredHeaderFlags[t];if(n!=null&&r!==n){return this._emitError(new Error(o.requiredHeaderFlagsErrors[t]))}this.packet.retain=(e&o.RETAIN_MASK)!==0;this.packet.qos=e>>o.QOS_SHIFT&o.QOS_MASK;if(this.packet.qos>2){return this._emitError(new Error("Packet must not have both QoS bits set to 1"))}this.packet.dup=(e&o.DUP_MASK)!==0;a("_parseHeader: packet: %o",this.packet);this._list.consume(1);return true}_parseLength(){const e=this._parseVarByteNum(true);if(e){this.packet.length=e.value;this._list.consume(e.bytes)}a("_parseLength %d",e.value);return!!e}_parsePayload(){a("_parsePayload: payload %O",this._list);let e=false;if(this.packet.length===0||this._list.length>=this.packet.length){this._pos=0;switch(this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=true}a("_parsePayload complete result: %s",e);return e}_parseConnect(){a("_parseConnect");let e;let t;let r;let n;const i={};const s=this.packet;const l=this._parseString();if(l===null)return this._emitError(new Error("Cannot parse protocolId"));if(l!=="MQTT"&&l!=="MQIsdp"){return this._emitError(new Error("Invalid protocolId"))}s.protocolId=l;if(this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));s.protocolVersion=this._list.readUInt8(this._pos);if(s.protocolVersion>=128){s.bridgeMode=true;s.protocolVersion=s.protocolVersion-128}if(s.protocolVersion!==3&&s.protocolVersion!==4&&s.protocolVersion!==5){return this._emitError(new Error("Invalid protocol version"))}this._pos++;if(this._pos>=this._list.length){return this._emitError(new Error("Packet too short"))}if(this._list.readUInt8(this._pos)&1){return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"))}i.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK;i.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK;i.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;const u=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK);const c=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(i.will){s.will={};s.will.retain=u;s.will.qos=c}else{if(u){return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"))}if(c){return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}}s.clean=(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK)!==0;this._pos++;s.keepalive=this._parseNum();if(s.keepalive===-1)return this._emitError(new Error("Packet too short"));if(s.protocolVersion===5){const e=this._parseProperties();if(Object.getOwnPropertyNames(e).length){s.properties=e}}const d=this._parseString();if(d===null)return this._emitError(new Error("Packet too short"));s.clientId=d;a("_parseConnect: packet.clientId: %s",s.clientId);if(i.will){if(s.protocolVersion===5){const e=this._parseProperties();if(Object.getOwnPropertyNames(e).length){s.will.properties=e}}e=this._parseString();if(e===null)return this._emitError(new Error("Cannot parse will topic"));s.will.topic=e;a("_parseConnect: packet.will.topic: %s",s.will.topic);t=this._parseBuffer();if(t===null)return this._emitError(new Error("Cannot parse will payload"));s.will.payload=t;a("_parseConnect: packet.will.paylaod: %s",s.will.payload)}if(i.username){n=this._parseString();if(n===null)return this._emitError(new Error("Cannot parse username"));s.username=n;a("_parseConnect: packet.username: %s",s.username)}if(i.password){r=this._parseBuffer();if(r===null)return this._emitError(new Error("Cannot parse password"));s.password=r}this.settings=s;a("_parseConnect: complete");return s}_parseConnack(){a("_parseConnack");const e=this.packet;if(this._list.length<1)return null;const t=this._list.readUInt8(this._pos++);if(t>1){return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"))}e.sessionPresent=!!(t&o.SESSIONPRESENT_MASK);if(this.settings.protocolVersion===5){if(this._list.length>=2){e.reasonCode=this._list.readUInt8(this._pos++)}else{e.reasonCode=0}}else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(e.returnCode===-1||e.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}}a("_parseConnack: complete")}_parsePublish(){a("_parsePublish");const e=this.packet;e.topic=this._parseString();if(e.topic===null)return this._emitError(new Error("Cannot parse topic"));if(e.qos>0)if(!this._parseMessageId()){return}if(this.settings.protocolVersion===5){const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}}e.payload=this._list.slice(this._pos,e.length);a("_parsePublish: payload from buffer list: %o",e.payload)}_parseSubscribe(){a("_parseSubscribe");const e=this.packet;let t;let r;let n;let i;let s;let l;let u;e.subscriptions=[];if(!this._parseMessageId()){return}if(this.settings.protocolVersion===5){const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}}if(e.length<=0){return this._emitError(new Error("Malformed subscribe, no payload specified"))}while(this._pos<e.length){t=this._parseString();if(t===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=this._parseByte();if(this.settings.protocolVersion===5){if(r&192){return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}}else{if(r&252){return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"))}}n=r&o.SUBSCRIBE_OPTIONS_QOS_MASK;if(n>2){return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"))}l=(r>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK)!==0;s=(r>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK)!==0;i=r>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK;if(i>2){return this._emitError(new Error("Invalid retain handling, must be <= 2"))}u={topic:t,qos:n};if(this.settings.protocolVersion===5){u.nl=l;u.rap=s;u.rh=i}else if(this.settings.bridgeMode){u.rh=0;u.rap=true;u.nl=true}a("_parseSubscribe: push subscription `%s` to subscription",u);e.subscriptions.push(u)}}_parseSuback(){a("_parseSuback");const e=this.packet;this.packet.granted=[];if(!this._parseMessageId()){return}if(this.settings.protocolVersion===5){const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}}if(e.length<=0){return this._emitError(new Error("Malformed suback, no payload specified"))}while(this._pos<this.packet.length){const e=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!o.MQTT5_SUBACK_CODES[e]){return this._emitError(new Error("Invalid suback code"))}}else{if(e>2&&e!==128){return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"))}}this.packet.granted.push(e)}}_parseUnsubscribe(){a("_parseUnsubscribe");const e=this.packet;e.unsubscriptions=[];if(!this._parseMessageId()){return}if(this.settings.protocolVersion===5){const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}}if(e.length<=0){return this._emitError(new Error("Malformed unsubscribe, no payload specified"))}while(this._pos<e.length){const t=this._parseString();if(t===null)return this._emitError(new Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",t);e.unsubscriptions.push(t)}}_parseUnsuback(){a("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&e.length!==2){return this._emitError(new Error("Malformed unsuback, payload length must be 2"))}if(e.length<=0){return this._emitError(new Error("Malformed unsuback, no payload specified"))}if(this.settings.protocolVersion===5){const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}e.granted=[];while(this._pos<this.packet.length){const e=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[e]){return this._emitError(new Error("Invalid unsuback code"))}this.packet.granted.push(e)}}}_parseConfirmation(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;this._parseMessageId();if(this.settings.protocolVersion===5){if(e.length>2){e.reasonCode=this._parseByte();switch(this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode]){return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"))}break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode]){return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"))}break}a("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)}else{e.reasonCode=0}if(e.length>3){const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}}}return true}_parseDisconnect(){const e=this.packet;a("_parseDisconnect");if(this.settings.protocolVersion===5){if(this._list.length>0){e.reasonCode=this._parseByte();if(!o.MQTT5_DISCONNECT_CODES[e.reasonCode]){this._emitError(new Error("Invalid disconnect reason code"))}}else{e.reasonCode=0}const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}}a("_parseDisconnect result: true");return true}_parseAuth(){a("_parseAuth");const e=this.packet;if(this.settings.protocolVersion!==5){return this._emitError(new Error("Not supported auth packet for this version MQTT"))}e.reasonCode=this._parseByte();if(!o.MQTT5_AUTH_CODES[e.reasonCode]){return this._emitError(new Error("Invalid auth reason code"))}const t=this._parseProperties();if(Object.getOwnPropertyNames(t).length){e.properties=t}a("_parseAuth: result: true");return true}_parseMessageId(){const e=this.packet;e.messageId=this._parseNum();if(e.messageId===null){this._emitError(new Error("Cannot parse messageId"));return false}a("_parseMessageId: packet.messageId %d",e.messageId);return true}_parseString(e){const t=this._parseNum();const r=t+this._pos;if(t===-1||r>this._list.length||r>this.packet.length)return null;const n=this._list.toString("utf8",this._pos,r);this._pos+=t;a("_parseString: result: %s",n);return n}_parseStringPair(){a("_parseStringPair");return{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum();const t=e+this._pos;if(e===-1||t>this._list.length||t>this.packet.length)return null;const r=this._list.slice(this._pos,t);this._pos+=e;a("_parseBuffer: result: %o",r);return r}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);this._pos+=2;a("_parseNum: result: %s",e);return e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);this._pos+=4;a("_parse4ByteNum: result: %s",e);return e}_parseVarByteNum(e){a("_parseVarByteNum");const t=4;let r=0;let n=1;let i=0;let s=false;let l;const u=this._pos?this._pos:0;while(r<t&&u+r<this._list.length){l=this._list.readUInt8(u+r++);i+=n*(l&o.VARBYTEINT_MASK);n*=128;if((l&o.VARBYTEINT_FIN_MASK)===0){s=true;break}if(this._list.length<=r){break}}if(!s&&r===t&&this._list.length>=r){this._emitError(new Error("Invalid variable byte integer"))}if(u){this._pos+=r}if(s){if(e){s={bytes:r,value:i}}else{s=i}}else{s=false}a("_parseVarByteNum: result: %o",s);return s}_parseByte(){let e;if(this._pos<this._list.length){e=this._list.readUInt8(this._pos);this._pos++}a("_parseByte: result: %o",e);return e}_parseByType(e){a("_parseByType: type: %s",e);switch(e){case"byte":{return this._parseByte()!==0}case"int8":{return this._parseByte()}case"int16":{return this._parseNum()}case"int32":{return this._parse4ByteNum()}case"var":{return this._parseVarByteNum()}case"string":{return this._parseString()}case"pair":{return this._parseStringPair()}case"binary":{return this._parseBuffer()}}}_parseProperties(){a("_parseProperties");const e=this._parseVarByteNum();const t=this._pos;const r=t+e;const n={};while(this._pos<r){const e=this._parseByte();if(!e){this._emitError(new Error("Cannot parse property code type"));return false}const t=o.propertiesCodes[e];if(!t){this._emitError(new Error("Unknown property"));return false}if(t==="userProperties"){if(!n[t]){n[t]=Object.create(null)}const e=this._parseByType(o.propertiesTypes[t]);if(n[t][e.name]){if(Array.isArray(n[t][e.name])){n[t][e.name].push(e.value)}else{const r=n[t][e.name];n[t][e.name]=[r];n[t][e.name].push(e.value)}}else{n[t][e.name]=e.value}continue}if(n[t]){if(Array.isArray(n[t])){n[t].push(this._parseByType(o.propertiesTypes[t]))}else{n[t]=[n[t]];n[t].push(this._parseByType(o.propertiesTypes[t]))}}else{n[t]=this._parseByType(o.propertiesTypes[t])}}return n}_newPacket(){a("_newPacket");if(this.packet){this._list.consume(this.packet.length);a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length);this.emit("packet",this.packet)}a("_newPacket: new packet");this.packet=new s;this._pos=0;return true}_emitError(e){a("_emitError",e);this.error=e;this.emit("error",e)}}e.exports=Parser},5671:(e,t,r)=>{const n=r(1378);const{Buffer:i}=r(4300);const s=i.allocUnsafe(0);const o=i.from([0]);const a=r(389);const l=r(5951).nextTick;const u=r(6248)("mqtt-packet:writeToStream");const c=a.cache;const d=a.generateNumber;const p=a.generateCache;const h=a.genBufVariableByteInt;const b=a.generate4ByteBuffer;let _=writeNumberCached;let g=true;function generate(e,t,r){u("generate called");if(t.cork){t.cork();l(uncork,t)}if(g){g=false;p()}u("generate: packet.cmd: %s",e.cmd);switch(e.cmd){case"connect":return connect(e,t,r);case"connack":return connack(e,t,r);case"publish":return publish(e,t,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return confirmation(e,t,r);case"subscribe":return subscribe(e,t,r);case"suback":return suback(e,t,r);case"unsubscribe":return unsubscribe(e,t,r);case"unsuback":return unsuback(e,t,r);case"pingreq":case"pingresp":return emptyPacket(e,t,r);case"disconnect":return disconnect(e,t,r);case"auth":return auth(e,t,r);default:t.destroy(new Error("Unknown command"));return false}}Object.defineProperty(generate,"cacheNumbers",{get(){return _===writeNumberCached},set(e){if(e){if(!c||Object.keys(c).length===0)g=true;_=writeNumberCached}else{g=false;_=writeNumberGenerated}}});function uncork(e){e.uncork()}function connect(e,t,r){const s=e||{};const o=s.protocolId||"MQTT";let a=s.protocolVersion||4;const l=s.will;let u=s.clean;const c=s.keepalive||0;const d=s.clientId||"";const p=s.username;const h=s.password;const b=s.properties;if(u===undefined)u=true;let g=0;if(!o||typeof o!=="string"&&!i.isBuffer(o)){t.destroy(new Error("Invalid protocolId"));return false}else g+=o.length+2;if(a!==3&&a!==4&&a!==5){t.destroy(new Error("Invalid protocol version"));return false}else g+=1;if((typeof d==="string"||i.isBuffer(d))&&(d||a>=4)&&(d||u)){g+=i.byteLength(d)+2}else{if(a<4){t.destroy(new Error("clientId must be supplied before 3.1.1"));return false}if(u*1===0){t.destroy(new Error("clientId must be given if cleanSession set to 0"));return false}}if(typeof c!=="number"||c<0||c>65535||c%1!==0){t.destroy(new Error("Invalid keepalive"));return false}else g+=2;g+=1;let m;let y;if(a===5){m=getProperties(t,b);if(!m){return false}g+=m.length}if(l){if(typeof l!=="object"){t.destroy(new Error("Invalid will"));return false}if(!l.topic||typeof l.topic!=="string"){t.destroy(new Error("Invalid will topic"));return false}else{g+=i.byteLength(l.topic)+2}g+=2;if(l.payload){if(l.payload.length>=0){if(typeof l.payload==="string"){g+=i.byteLength(l.payload)}else{g+=l.payload.length}}else{t.destroy(new Error("Invalid will payload"));return false}}y={};if(a===5){y=getProperties(t,l.properties);if(!y){return false}g+=y.length}}let v=false;if(p!=null){if(isStringOrBuffer(p)){v=true;g+=i.byteLength(p)+2}else{t.destroy(new Error("Invalid username"));return false}}if(h!=null){if(!v){t.destroy(new Error("Username is required to use password"));return false}if(isStringOrBuffer(h)){g+=byteLength(h)+2}else{t.destroy(new Error("Invalid password"));return false}}t.write(n.CONNECT_HEADER);writeVarByteInt(t,g);writeStringOrBuffer(t,o);if(s.bridgeMode){a+=128}t.write(a===131?n.VERSION131:a===132?n.VERSION132:a===4?n.VERSION4:a===5?n.VERSION5:n.VERSION3);let w=0;w|=p!=null?n.USERNAME_MASK:0;w|=h!=null?n.PASSWORD_MASK:0;w|=l&&l.retain?n.WILL_RETAIN_MASK:0;w|=l&&l.qos?l.qos<<n.WILL_QOS_SHIFT:0;w|=l?n.WILL_FLAG_MASK:0;w|=u?n.CLEAN_SESSION_MASK:0;t.write(i.from([w]));_(t,c);if(a===5){m.write()}writeStringOrBuffer(t,d);if(l){if(a===5){y.write()}writeString(t,l.topic);writeStringOrBuffer(t,l.payload)}if(p!=null){writeStringOrBuffer(t,p)}if(h!=null){writeStringOrBuffer(t,h)}return true}function connack(e,t,r){const s=r?r.protocolVersion:4;const a=e||{};const l=s===5?a.reasonCode:a.returnCode;const u=a.properties;let c=2;if(typeof l!=="number"){t.destroy(new Error("Invalid return code"));return false}let d=null;if(s===5){d=getProperties(t,u);if(!d){return false}c+=d.length}t.write(n.CONNACK_HEADER);writeVarByteInt(t,c);t.write(a.sessionPresent?n.SESSIONPRESENT_HEADER:o);t.write(i.from([l]));if(d!=null){d.write()}return true}function publish(e,t,r){u("publish: packet: %o",e);const o=r?r.protocolVersion:4;const a=e||{};const l=a.qos||0;const c=a.retain?n.RETAIN_MASK:0;const d=a.topic;const p=a.payload||s;const h=a.messageId;const b=a.properties;let g=0;if(typeof d==="string")g+=i.byteLength(d)+2;else if(i.isBuffer(d))g+=d.length+2;else{t.destroy(new Error("Invalid topic"));return false}if(!i.isBuffer(p))g+=i.byteLength(p);else g+=p.length;if(l&&typeof h!=="number"){t.destroy(new Error("Invalid messageId"));return false}else if(l)g+=2;let m=null;if(o===5){m=getProperties(t,b);if(!m){return false}g+=m.length}t.write(n.PUBLISH_HEADER[l][a.dup?1:0][c?1:0]);writeVarByteInt(t,g);_(t,byteLength(d));t.write(d);if(l>0)_(t,h);if(m!=null){m.write()}u("publish: payload: %o",p);return t.write(p)}function confirmation(e,t,r){const s=r?r.protocolVersion:4;const o=e||{};const a=o.cmd||"puback";const l=o.messageId;const u=o.dup&&a==="pubrel"?n.DUP_MASK:0;let c=0;const d=o.reasonCode;const p=o.properties;let h=s===5?3:2;if(a==="pubrel")c=1;if(typeof l!=="number"){t.destroy(new Error("Invalid messageId"));return false}let b=null;if(s===5){if(typeof p==="object"){b=getPropertiesByMaximumPacketSize(t,p,r,h);if(!b){return false}h+=b.length}}t.write(n.ACKS[a][c][u][0]);if(h===3)h+=d!==0?1:-1;writeVarByteInt(t,h);_(t,l);if(s===5&&h!==2){t.write(i.from([d]))}if(b!==null){b.write()}else{if(h===4){t.write(i.from([0]))}}return true}function subscribe(e,t,r){u("subscribe: packet: ");const s=r?r.protocolVersion:4;const o=e||{};const a=o.dup?n.DUP_MASK:0;const l=o.messageId;const c=o.subscriptions;const d=o.properties;let p=0;if(typeof l!=="number"){t.destroy(new Error("Invalid messageId"));return false}else p+=2;let h=null;if(s===5){h=getProperties(t,d);if(!h){return false}p+=h.length}if(typeof c==="object"&&c.length){for(let e=0;e<c.length;e+=1){const r=c[e].topic;const n=c[e].qos;if(typeof r!=="string"){t.destroy(new Error("Invalid subscriptions - invalid topic"));return false}if(typeof n!=="number"){t.destroy(new Error("Invalid subscriptions - invalid qos"));return false}if(s===5){const r=c[e].nl||false;if(typeof r!=="boolean"){t.destroy(new Error("Invalid subscriptions - invalid No Local"));return false}const n=c[e].rap||false;if(typeof n!=="boolean"){t.destroy(new Error("Invalid subscriptions - invalid Retain as Published"));return false}const i=c[e].rh||0;if(typeof i!=="number"||i>2){t.destroy(new Error("Invalid subscriptions - invalid Retain Handling"));return false}}p+=i.byteLength(r)+2+1}}else{t.destroy(new Error("Invalid subscriptions"));return false}u("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER);t.write(n.SUBSCRIBE_HEADER[1][a?1:0][0]);writeVarByteInt(t,p);_(t,l);if(h!==null){h.write()}let b=true;for(const e of c){const r=e.topic;const o=e.qos;const a=+e.nl;const l=+e.rap;const u=e.rh;let c;writeString(t,r);c=n.SUBSCRIBE_OPTIONS_QOS[o];if(s===5){c|=a?n.SUBSCRIBE_OPTIONS_NL:0;c|=l?n.SUBSCRIBE_OPTIONS_RAP:0;c|=u?n.SUBSCRIBE_OPTIONS_RH[u]:0}b=t.write(i.from([c]))}return b}function suback(e,t,r){const s=r?r.protocolVersion:4;const o=e||{};const a=o.messageId;const l=o.granted;const u=o.properties;let c=0;if(typeof a!=="number"){t.destroy(new Error("Invalid messageId"));return false}else c+=2;if(typeof l==="object"&&l.length){for(let e=0;e<l.length;e+=1){if(typeof l[e]!=="number"){t.destroy(new Error("Invalid qos vector"));return false}c+=1}}else{t.destroy(new Error("Invalid qos vector"));return false}let d=null;if(s===5){d=getPropertiesByMaximumPacketSize(t,u,r,c);if(!d){return false}c+=d.length}t.write(n.SUBACK_HEADER);writeVarByteInt(t,c);_(t,a);if(d!==null){d.write()}return t.write(i.from(l))}function unsubscribe(e,t,r){const s=r?r.protocolVersion:4;const o=e||{};const a=o.messageId;const l=o.dup?n.DUP_MASK:0;const u=o.unsubscriptions;const c=o.properties;let d=0;if(typeof a!=="number"){t.destroy(new Error("Invalid messageId"));return false}else{d+=2}if(typeof u==="object"&&u.length){for(let e=0;e<u.length;e+=1){if(typeof u[e]!=="string"){t.destroy(new Error("Invalid unsubscriptions"));return false}d+=i.byteLength(u[e])+2}}else{t.destroy(new Error("Invalid unsubscriptions"));return false}let p=null;if(s===5){p=getProperties(t,c);if(!p){return false}d+=p.length}t.write(n.UNSUBSCRIBE_HEADER[1][l?1:0][0]);writeVarByteInt(t,d);_(t,a);if(p!==null){p.write()}let h=true;for(let e=0;e<u.length;e++){h=writeString(t,u[e])}return h}function unsuback(e,t,r){const s=r?r.protocolVersion:4;const o=e||{};const a=o.messageId;const l=o.dup?n.DUP_MASK:0;const u=o.granted;const c=o.properties;const d=o.cmd;const p=0;let h=2;if(typeof a!=="number"){t.destroy(new Error("Invalid messageId"));return false}if(s===5){if(typeof u==="object"&&u.length){for(let e=0;e<u.length;e+=1){if(typeof u[e]!=="number"){t.destroy(new Error("Invalid qos vector"));return false}h+=1}}else{t.destroy(new Error("Invalid qos vector"));return false}}let b=null;if(s===5){b=getPropertiesByMaximumPacketSize(t,c,r,h);if(!b){return false}h+=b.length}t.write(n.ACKS[d][p][l][0]);writeVarByteInt(t,h);_(t,a);if(b!==null){b.write()}if(s===5){t.write(i.from(u))}return true}function emptyPacket(e,t,r){return t.write(n.EMPTY[e.cmd])}function disconnect(e,t,r){const s=r?r.protocolVersion:4;const o=e||{};const a=o.reasonCode;const l=o.properties;let u=s===5?1:0;let c=null;if(s===5){c=getPropertiesByMaximumPacketSize(t,l,r,u);if(!c){return false}u+=c.length}t.write(i.from([n.codes.disconnect<<4]));writeVarByteInt(t,u);if(s===5){t.write(i.from([a]))}if(c!==null){c.write()}return true}function auth(e,t,r){const s=r?r.protocolVersion:4;const o=e||{};const a=o.reasonCode;const l=o.properties;let u=s===5?1:0;if(s!==5)t.destroy(new Error("Invalid mqtt version for auth packet"));const c=getPropertiesByMaximumPacketSize(t,l,r,u);if(!c){return false}u+=c.length;t.write(i.from([n.codes.auth<<4]));writeVarByteInt(t,u);t.write(i.from([a]));if(c!==null){c.write()}return true}const m={};function writeVarByteInt(e,t){if(t>n.VARBYTEINT_MAX){e.destroy(new Error(`Invalid variable byte integer: ${t}`));return false}let r=m[t];if(!r){r=h(t);if(t<16384)m[t]=r}u("writeVarByteInt: writing to stream: %o",r);return e.write(r)}function writeString(e,t){const r=i.byteLength(t);_(e,r);u("writeString: %s",t);return e.write(t,"utf8")}function writeStringPair(e,t,r){writeString(e,t);writeString(e,r)}function writeNumberCached(e,t){u("writeNumberCached: number: %d",t);u("writeNumberCached: %o",c[t]);return e.write(c[t])}function writeNumberGenerated(e,t){const r=d(t);u("writeNumberGenerated: %o",r);return e.write(r)}function write4ByteNumber(e,t){const r=b(t);u("write4ByteNumber: %o",r);return e.write(r)}function writeStringOrBuffer(e,t){if(typeof t==="string"){writeString(e,t)}else if(t){_(e,t.length);e.write(t)}else _(e,0)}function getProperties(e,t){if(typeof t!=="object"||t.length!=null){return{length:1,write(){writeProperties(e,{},0)}}}let r=0;function getLengthProperty(t,r){const s=n.propertiesTypes[t];let o=0;switch(s){case"byte":{if(typeof r!=="boolean"){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=1+1;break}case"int8":{if(typeof r!=="number"||r<0||r>255){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=1+1;break}case"binary":{if(r&&r===null){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=1+i.byteLength(r)+2;break}case"int16":{if(typeof r!=="number"||r<0||r>65535){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=1+2;break}case"int32":{if(typeof r!=="number"||r<0||r>4294967295){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=1+4;break}case"var":{if(typeof r!=="number"||r<0||r>268435455){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=1+i.byteLength(h(r));break}case"string":{if(typeof r!=="string"){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=1+2+i.byteLength(r.toString());break}case"pair":{if(typeof r!=="object"){e.destroy(new Error(`Invalid ${t}: ${r}`));return false}o+=Object.getOwnPropertyNames(r).reduce(((e,t)=>{const n=r[t];if(Array.isArray(n)){e+=n.reduce(((e,r)=>{e+=1+2+i.byteLength(t.toString())+2+i.byteLength(r.toString());return e}),0)}else{e+=1+2+i.byteLength(t.toString())+2+i.byteLength(r[t].toString())}return e}),0);break}default:{e.destroy(new Error(`Invalid property ${t}: ${r}`));return false}}return o}if(t){for(const e in t){let n=0;let i=0;const s=t[e];if(Array.isArray(s)){for(let t=0;t<s.length;t++){i=getLengthProperty(e,s[t]);if(!i){return false}n+=i}}else{i=getLengthProperty(e,s);if(!i){return false}n=i}if(!n)return false;r+=n}}const s=i.byteLength(h(r));return{length:s+r,write(){writeProperties(e,t,r)}}}function getPropertiesByMaximumPacketSize(e,t,r,n){const i=["reasonString","userProperties"];const s=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let o=getProperties(e,t);if(s){while(n+o.length>s){const r=i.shift();if(r&&t[r]){delete t[r];o=getProperties(e,t)}else{return false}}}return o}function writeProperty(e,t,r){const s=n.propertiesTypes[t];switch(s){case"byte":{e.write(i.from([n.properties[t]]));e.write(i.from([+r]));break}case"int8":{e.write(i.from([n.properties[t]]));e.write(i.from([r]));break}case"binary":{e.write(i.from([n.properties[t]]));writeStringOrBuffer(e,r);break}case"int16":{e.write(i.from([n.properties[t]]));_(e,r);break}case"int32":{e.write(i.from([n.properties[t]]));write4ByteNumber(e,r);break}case"var":{e.write(i.from([n.properties[t]]));writeVarByteInt(e,r);break}case"string":{e.write(i.from([n.properties[t]]));writeString(e,r);break}case"pair":{Object.getOwnPropertyNames(r).forEach((s=>{const o=r[s];if(Array.isArray(o)){o.forEach((r=>{e.write(i.from([n.properties[t]]));writeStringPair(e,s.toString(),r.toString())}))}else{e.write(i.from([n.properties[t]]));writeStringPair(e,s.toString(),o.toString())}}));break}default:{e.destroy(new Error(`Invalid property ${t} value: ${r}`));return false}}}function writeProperties(e,t,r){writeVarByteInt(e,r);for(const r in t){if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]!==null){const n=t[r];if(Array.isArray(n)){for(let t=0;t<n.length;t++){writeProperty(e,r,n[t])}}else{writeProperty(e,r,n)}}}}function byteLength(e){if(!e)return 0;else if(e instanceof i)return e.length;else return i.byteLength(e)}function isStringOrBuffer(e){return typeof e==="string"||e instanceof i}e.exports=generate},3212:e=>{var t=1e3;var r=t*60;var n=r*60;var i=n*24;var s=i*7;var o=i*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var l=parseFloat(a[1]);var u=(a[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return l*o;case"weeks":case"week":case"w":return l*s;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return undefined}}function fmtShort(e){var s=Math.abs(e);if(s>=i){return Math.round(e/i)+"d"}if(s>=n){return Math.round(e/n)+"h"}if(s>=r){return Math.round(e/r)+"m"}if(s>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var s=Math.abs(e);if(s>=i){return plural(e,s,i,"day")}if(s>=n){return plural(e,s,n,"hour")}if(s>=r){return plural(e,s,r,"minute")}if(s>=t){return plural(e,s,t,"second")}return e+" ms"}function plural(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}},3550:(e,t,r)=>{var n=r(3433);e.exports=n(once);e.exports.strict=n(onceStrict);once.proto=once((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})}));function once(e){var f=function(){if(f.called)return f.value;f.called=true;return f.value=e.apply(this,arguments)};f.called=false;return f}function onceStrict(e){var f=function(){if(f.called)throw new Error(f.onceError);f.called=true;return f.value=e.apply(this,arguments)};var t=e.name||"Function wrapped with `once`";f.onceError=t+" shouldn't be called more than once";f.called=false;return f}},5951:e=>{"use strict";if(typeof process==="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){e.exports={nextTick:nextTick}}else{e.exports=process}function nextTick(e,t,r,n){if(typeof e!=="function"){throw new TypeError('"callback" argument must be a function')}var i=arguments.length;var s,o;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function afterTickOne(){e.call(null,t)}));case 3:return process.nextTick((function afterTickTwo(){e.call(null,t,r)}));case 4:return process.nextTick((function afterTickThree(){e.call(null,t,r,n)}));default:s=new Array(i-1);o=0;while(o<s.length){s[o++]=arguments[o]}return process.nextTick((function afterTick(){e.apply(null,s)}))}}},8983:(e,t,r)=>{"use strict";var n=r(3837),i=r(660),s=i.Qlobber;function QlobberSub(e){s.call(this,e);this.subscriptionsCount=0}n.inherits(QlobberSub,s);QlobberSub.prototype._initial_value=function(e){this.subscriptionsCount+=1;let t={topic:e.topic,clientMap:(new Map).set(e.clientId,{qos:e.qos,rh:e.rh,rap:e.rap,nl:e.nl})};t[Symbol.iterator]=function*(e){if(e===undefined){for(let[e,r]of t.clientMap){yield{topic:t.topic,clientId:e,...r}}}else if(t.topic===e){for(let[e,r]of t.clientMap){yield{clientId:e,...r}}}};return t};QlobberSub.prototype._add_value=function(e,t){var r=e.clientMap,n=r.size;r.set(t.clientId,{qos:t.qos,rh:t.rh,rap:t.rap,nl:t.nl});if(r.size>n){this.subscriptionsCount+=1}};QlobberSub.prototype._add_values=function(e,t,r){if(r===undefined){for(let[r,n]of t.clientMap){e.push({clientId:r,topic:t.topic,...n})}}else if(t.topic===r){for(let[r,n]of t.clientMap){e.push({clientId:r,...n})}}};QlobberSub.prototype._remove_value=function(e,t){var r=e.clientMap,n=r.size;r.delete(t.clientId);var i=r.size;if(i<n){this.subscriptionsCount-=1}return i===0};QlobberSub.prototype.test_values=function(e,t){var r=e.clientMap;return e.topic===t.topic&&r.size===1&&r.has(t.clientId)};QlobberSub.prototype.match=function(e,t){return this._match([],0,e.split(this._separator),this._trie,t)};QlobberSub.prototype.clear=function(){this.subscriptionsCount=0;return s.prototype.clear.call(this)};QlobberSub.set_native=function(t){const n=r(2558);QlobberSub.native=n(t.QlobberSub,QlobberSub);return e.exports};e.exports=QlobberSub},660:(e,t,r)=>{"use strict";e.exports=r(4724)},4724:(e,t,r)=>{"use strict";var n=r(3837);function Qlobber(e){e=e||{};this._separator=e.separator||".";this._wildcard_one=e.wildcard_one||"*";this._wildcard_some=e.wildcard_some||"#";this._max_words=e.max_words||100;this._max_wildcard_somes=e.max_wildcard_somes||3;this._match_empty_levels=e.match_empty_levels;this._trie=new Map;if(e.cache_adds instanceof Map){this._shortcuts=e.cache_adds}else if(e.cache_adds){this._shortcuts=new Map}if(e.cache_splits>0){this._cache_splits=e.cache_splits;this._split_cache=new Map}}Qlobber.prototype._initial_value=function(e){return[e]};Qlobber.prototype._add_value=function(e,t){e[e.length]=t};Qlobber.prototype._add_values=function(e,t){var r,n=e.length,i=t.length;for(r=0;r<i;r+=1){e[n+r]=t[r]}};Qlobber.prototype._iter_values=function(e,t){return e[Symbol.iterator](t)};Qlobber.prototype._remove_value=function(e,t){if(t===undefined){return true}var r=e.lastIndexOf(t);if(r>=0){e.splice(r,1)}return e.length===0};Qlobber.prototype._add=function(e,t,r,n){var i,s;if(t===r.length){i=n.get(this._separator);if(i){this._add_value(i,e)}else{i=this._initial_value(e);n.set(this._separator,i)}return i}s=r[t];i=n.get(s);if(!i){i=new Map;n.set(s,i)}return this._add(e,t+1,r,i)};Qlobber.prototype._remove=function(e,t,r,n){var i,s,o;if(t===r.length){i=n.get(this._separator);if(i&&this._remove_value(i,e)){n.delete(this._separator);return true}return false}s=r[t];i=n.get(s);if(!i){return false}o=this._remove(e,t+1,r,i);if(i.size===0){n.delete(s)}return o};Qlobber.prototype._match_some=function(e,t,r,n,i){var s,o;for(o of n.keys()){if(o!==this._separator){for(s=t;s<r.length;s+=1){e=this._match(e,s,r,n,i)}break}}return e};Qlobber.prototype._match=function(e,t,r,n,i){var s,o;o=n.get(this._wildcard_some);if(o){e=this._match_some(e,t,r,o,i);e=this._match(e,r.length,r,o,i)}if(t===r.length){o=n.get(this._separator);if(o){if(e.dest){this._add_values(e.dest,e.source,i);this._add_values(e.dest,o,i);e=e.dest}else if(e.source){e.dest=e.source;e.source=o}else{this._add_values(e,o,i)}}}else{s=r[t];if(s!==this._wildcard_one&&s!==this._wildcard_some){o=n.get(s);if(o){e=this._match(e,t+1,r,o,i)}}if(s||this._match_empty_levels){o=n.get(this._wildcard_one);if(o){e=this._match(e,t+1,r,o,i)}}}return e};Qlobber.prototype._match2=function(e,t,r){var n=this._match({source:e},0,this._split(t,false),this._trie,r);return n.source||n};Qlobber.prototype._test_some=function(e,t,r,n){var i,s;for(s of n.keys()){if(s!==this._separator){for(i=t;i<r.length;i+=1){if(this._test(e,i,r,n)){return true}}break}}return false};Qlobber.prototype._test=function(e,t,r,n){var i,s;s=n.get(this._wildcard_some);if(s){if(this._test_some(e,t,r,s)||this._test(e,r.length,r,s)){return true}}if(t===r.length){s=n.get(this._separator);if(s&&this.test_values(s,e)){return true}}else{i=r[t];if(i!==this._wildcard_one&&i!==this._wildcard_some){s=n.get(i);if(s&&this._test(e,t+1,r,s)){return true}}if(i||this._match_empty_levels){s=n.get(this._wildcard_one);if(s&&this._test(e,t+1,r,s)){return true}}}return false};Qlobber.prototype._match_some_iter=function*(e,t,r,n){var i,s;for(s of r.keys()){if(s!==this._separator){for(i=e;i<t.length;i+=1){yield*this._match_iter(i,t,r,n)}break}}};Qlobber.prototype._match_iter=function*(e,t,r,n){var i,s;s=r.get(this._wildcard_some);if(s){yield*this._match_some_iter(e,t,s,n);yield*this._match_iter(t.length,t,s,n)}if(e===t.length){s=r.get(this._separator);if(s){yield*this._iter_values(s,n)}}else{i=t[e];if(i!==this._wildcard_one&&i!==this._wildcard_some){s=r.get(i);if(s){yield*this._match_iter(e+1,t,s,n)}}if(i||this._match_empty_levels){s=r.get(this._wildcard_one);if(s){yield*this._match_iter(e+1,t,s,n)}}}};Qlobber.prototype._split_words=function(e){const t=e.split(this._separator);if(t.length>this._max_words){throw new Error("too many words")}return t};Qlobber.prototype._split=function(e,t){let r;if(this._split_cache){r=this._split_cache.get(e);if(r===undefined){r=this._split_words(e);this._split_cache.set(e,r);if(this._split_cache.size>this._cache_splits){for(let e of this._split_cache.keys()){this._split_cache.delete(e);break}}}}else{r=this._split_words(e)}if(t&&r.reduce(((e,t)=>e+(t===this._wildcard_some)),0)>this._max_wildcard_somes){throw new Error("too many wildcard somes")}return r};Qlobber.prototype.add=function(e,t){var r=this._shortcuts&&this._shortcuts.get(e);if(r){this._add_value(r,t)}else{r=this._add(t,0,this._split(e,true),this._trie);if(this._shortcuts){this._shortcuts.set(e,r)}}return this};Qlobber.prototype.remove=function(e,t){if(this._remove(t,0,this._split(e,false),this._trie)&&this._shortcuts){this._shortcuts.delete(e)}return this};Qlobber.prototype.match=function(e,t){return this._match2([],e,t)};Qlobber.prototype.match_iter=function(e,t){return this._match_iter(0,this._split(e,false),this._trie,t)};Qlobber.prototype.test=function(e,t){return this._test(t,0,this._split(e,false),this._trie)};Qlobber.prototype.test_values=function(e,t){return e.indexOf(t)>=0};Qlobber.prototype.clear=function(){this._trie.clear();if(this._shortcuts){this._shortcuts.clear()}if(this._split_cache){this._split_cache.clear()}return this};Qlobber.prototype.get_trie=function(){return this._trie};Qlobber.prototype.visit=function*(){let e=[],t=this._trie.entries(),r=0;while(true){if(r===0){yield{type:"start_entries"}}let n=t.next();if(n.done){yield{type:"end_entries"};let n=e.pop();if(n===undefined){return}[t,r]=n;continue}let[i,s]=n.value;yield{type:"entry",key:i};++r;if(i===this._separator){yield{type:"start_values"};if(s[Symbol.iterator]){for(let e of s){yield{type:"value",value:e}}}else{yield{type:"value",value:s}}yield{type:"end_values"};continue}e.push([t,r]);t=s.entries();r=0}};Qlobber.prototype.get_restorer=function(e){e=e||{};let t=[],r=this._trie,n="";return i=>{switch(i.type){case"entry":r=r||new Map;t.push([r,i.key,n]);r=r.get(i.key);if(e.cache_adds){if(n){n+=this._separator}n+=i.key}break;case"value":if(r){this._add_value(r,i.value)}else{r=this._initial_value(i.value)}break;case"end_entries":if(r&&r.size===0){r=undefined}case"end_values":let s=t.pop();if(s===undefined){r=undefined;n=""}else{let[t,o,a]=s;if(r){if(e.cache_adds&&this._shortcuts&&i.type==="end_values"){this._shortcuts.set(a,r)}t.set(o,r)}r=t;n=a}break}}};function QlobberDedup(e){Qlobber.call(this,e)}n.inherits(QlobberDedup,Qlobber);QlobberDedup.prototype._initial_value=function(e){return(new Set).add(e)};QlobberDedup.prototype._add_value=function(e,t){e.add(t)};QlobberDedup.prototype._add_values=function(e,t){t.forEach((function(t){e.add(t)}))};QlobberDedup.prototype._remove_value=function(e,t){if(t===undefined){return true}e.delete(t);return e.size===0};QlobberDedup.prototype.test_values=function(e,t){return e.has(t)};QlobberDedup.prototype.match=function(e,t){return this._match2(new Set,e,t)};function QlobberTrue(e){Qlobber.call(this,e)}n.inherits(QlobberTrue,Qlobber);QlobberTrue.prototype._initial_value=function(){return true};QlobberTrue.prototype._add_value=function(){};QlobberTrue.prototype._remove_value=function(){return true};QlobberTrue.prototype._iter_values=function*(){yield true};QlobberTrue.prototype.test_values=function(){return true};QlobberTrue.prototype.match=function(e,t){return this.test(e,t)};let i=r(2781);function VisitorStream(e){i.Readable.call(this,{objectMode:true});this._iterator=e.visit()}n.inherits(VisitorStream,i.Readable);VisitorStream.prototype._read=function(){while(true){let{done:e,value:t}=this._iterator.next();if(e){this.push(null);break}if(!this.push(t)){break}}};function RestorerStream(e){i.Writable.call(this,{objectMode:true});this._restorer=e.get_restorer()}n.inherits(RestorerStream,i.Writable);RestorerStream.prototype._write=function(e,t,r){this._restorer(e);r()};let s=null;function set_native(e){if(e!==s){const t=r(2558);Qlobber.nativeString=t(e.QlobberString,Qlobber);Qlobber.nativeNumber=t(e.QlobberNumber,Qlobber);QlobberDedup.nativeString=t(e.QlobberDedupString,QlobberDedup);QlobberDedup.nativeNumber=t(e.QlobberDedupNumber,QlobberDedup);QlobberTrue.native=t(e.QlobberTrue,QlobberTrue);s=e}return t}t.Qlobber=Qlobber;t.QlobberDedup=QlobberDedup;t.QlobberTrue=QlobberTrue;t.VisitorStream=VisitorStream;t.RestorerStream=RestorerStream;t.set_native=set_native},2558:(e,t,r)=>{"use strict";const n=r(3837);e.exports=function(e,t){class WrappedQlobberNative extends e{constructor(e){super(e);this.addP=n.promisify(this.add_async);this.removeP=n.promisify(this.remove_async);this.matchP=n.promisify(this.match_async);this.testP=n.promisify(this.test_async);this.clearP=n.promisify(this.clear_async);this._get_visitorP=n.promisify(this.get_visitor_async);this._visit_nextP=n.promisify(this.visit_next_async);this._get_restorerP=n.promisify(this.get_restorer_async);this._restore_nextP=n.promisify(this.restore_next_async);this._match_iterP=n.promisify(this.match_iter_async);this._match_nextP=n.promisify(this.match_next_async)}*visit(){const e=this.get_visitor();while(true){const t=this.visit_next(e);if(t===undefined){break}yield t}}async*visitP(){const e=await this._get_visitorP();while(true){const t=await this._visit_nextP(e);if(t===undefined){break}yield t}}*match_iter(e,t){const r=super.match_iter(e,t);while(true){const e=this.match_next(r);if(e===undefined){break}yield e.value}}async*match_iterP(e,t){const r=await this._match_iterP(e,t);while(true){const e=await this._match_nextP(r);if(e===undefined){break}yield e.value}}get_trie(){const e=new t(this.options);const r=e.get_restorer();for(let e of this.visit()){r(e)}return e.get_trie()}get_restorer(e){const t=super.get_restorer(e);return e=>{super.restore_next(t,e)}}async get_restorerP(e){const t=await this._get_restorerP(e);return async e=>{await this._restore_nextP(t,e)}}}WrappedQlobberNative.is_native=true;WrappedQlobberNative.nonNative=t;return WrappedQlobberNative}},7715:e=>{"use strict";const t={};function createErrorType(e,r,n){if(!n){n=Error}function getMessage(e,t,n){if(typeof r==="string"){return r}else{return r(e,t,n)}}class NodeError extends n{constructor(e,t,r){super(getMessage(e,t,r))}}NodeError.prototype.name=n.name;NodeError.prototype.code=e;t[e]=NodeError}function oneOf(e,t){if(Array.isArray(e)){const r=e.length;e=e.map((e=>String(e)));if(r>2){return`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]}else if(r===2){return`one of ${t} ${e[0]} or ${e[1]}`}else{return`of ${t} ${e[0]}`}}else{return`of ${t} ${String(e)}`}}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function includes(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}createErrorType("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError);createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;if(typeof t==="string"&&startsWith(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}let i;if(endsWith(e," argument")){i=`The ${e} ${n} ${oneOf(t,"type")}`}else{const r=includes(e,".")?"property":"argument";i=`The "${e}" ${r} ${n} ${oneOf(t,"type")}`}i+=`. Received type ${typeof r}`;return i}),TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"}));createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"}));createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.q=t},8906:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=Duplex;var i=r(1959);var s=r(2263);r(757)(Duplex,i);{var o=n(s.prototype);for(var a=0;a<o.length;a++){var l=o[a];if(!Duplex.prototype[l])Duplex.prototype[l]=s.prototype[l]}}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);i.call(this,e);s.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",onend)}}}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function onend(){if(this._writableState.ended)return;process.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function set(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}})},9856:(e,t,r)=>{"use strict";e.exports=PassThrough;var n=r(8859);r(757)(PassThrough,n);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);n.call(this,e)}PassThrough.prototype._transform=function(e,t,r){r(null,e)}},1959:(e,t,r)=>{"use strict";e.exports=Readable;var n;Readable.ReadableState=ReadableState;var i=r(2361).EventEmitter;var s=function EElistenerCount(e,t){return e.listeners(t).length};var o=r(3675);var a=r(4300).Buffer;var l=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return a.from(e)}function _isUint8Array(e){return a.isBuffer(e)||e instanceof l}var u=r(3837);var c;if(u&&u.debuglog){c=u.debuglog("stream")}else{c=function debug(){}}var d=r(6039);var p=r(4564);var h=r(7711),b=h.getHighWaterMark;var _=r(7715).q,g=_.ERR_INVALID_ARG_TYPE,m=_.ERR_STREAM_PUSH_AFTER_EOF,y=_.ERR_METHOD_NOT_IMPLEMENTED,v=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var k;r(757)(Readable,o);var E=p.errorOrDestroy;var C=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function ReadableState(e,t,i){n=n||r(8906);e=e||{};if(typeof i!=="boolean")i=t instanceof n;this.objectMode=!!e.objectMode;if(i)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=b(this,e,"readableHighWaterMark",i);this.buffer=new d;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=r(8541).s;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function Readable(e){n=n||r(8906);if(!(this instanceof Readable))return new Readable(e);var t=this instanceof n;this._readableState=new ReadableState(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}o.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function set(e){if(!this._readableState){return}this._readableState.destroyed=e}});Readable.prototype.destroy=p.destroy;Readable.prototype._undestroy=p.undestroy;Readable.prototype._destroy=function(e,t){t(e)};Readable.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=a.from(e,t);t=""}n=true}}else{n=true}return readableAddChunk(this,e,t,false,n)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,true,false)};function readableAddChunk(e,t,r,n,i){c("readableAddChunk",t);var s=e._readableState;if(t===null){s.reading=false;onEofChunk(e,s)}else{var o;if(!i)o=chunkInvalid(s,t);if(o){E(e,o)}else if(s.objectMode||t&&t.length>0){if(typeof t!=="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==a.prototype){t=_uint8ArrayToBuffer(t)}if(n){if(s.endEmitted)E(e,new v);else addChunk(e,s,t,true)}else if(s.ended){E(e,new m)}else if(s.destroyed){return false}else{s.reading=false;if(s.decoder&&!r){t=s.decoder.write(t);if(s.objectMode||t.length!==0)addChunk(e,s,t,false);else maybeReadMore(e,s)}else{addChunk(e,s,t,false)}}}else if(!n){s.reading=false;maybeReadMore(e,s)}}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function addChunk(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)emitReadable(e)}maybeReadMore(e,t)}function chunkInvalid(e,t){var r;if(!_isUint8Array(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new g("chunk",["string","Buffer","Uint8Array"],t)}return r}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(e){if(!w)w=r(8541).s;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head;var i="";while(n!==null){i+=t.write(n.data);n=n.next}this._readableState.buffer.clear();if(i!=="")this._readableState.buffer.push(i);this._readableState.length=i.length;return this};var I=1073741824;function computeNewHighWaterMark(e){if(e>=I){e=I}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=computeNewHighWaterMark(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}Readable.prototype.read=function(e){c("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){c("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)endReadable(this);else emitReadable(this);return null}e=howMuchToRead(e,t);if(e===0&&t.ended){if(t.length===0)endReadable(this);return null}var n=t.needReadable;c("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;c("length less than watermark",n)}if(t.ended||t.reading){n=false;c("reading or ended",n)}else if(n){c("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=howMuchToRead(r,t)}var i;if(e>0)i=fromList(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)endReadable(this)}if(i!==null)this.emit("data",i);return i};function onEofChunk(e,t){c("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){emitReadable(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;emitReadable_(e)}}}function emitReadable(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){c("emitReadable",t.flowing);t.emittedReadable=true;process.nextTick(emitReadable_,e)}}function emitReadable_(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;flow(e)}function maybeReadMore(e,t){if(!t.readingMore){t.readingMore=true;process.nextTick(maybeReadMore_,e,t)}}function maybeReadMore_(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;c("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}Readable.prototype._read=function(e){E(this,new y("_read()"))};Readable.prototype.pipe=function(e,t){var r=this;var n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1;c("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==false)&&e!==process.stdout&&e!==process.stderr;var o=i?onend:unpipe;if(n.endEmitted)process.nextTick(o);else r.once("end",o);e.on("unpipe",onunpipe);function onunpipe(e,t){c("onunpipe");if(e===r){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;cleanup()}}}function onend(){c("onend");e.end()}var a=pipeOnDrain(r);e.on("drain",a);var l=false;function cleanup(){c("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",a);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);r.removeListener("end",onend);r.removeListener("end",unpipe);r.removeListener("data",ondata);l=true;if(n.awaitDrain&&(!e._writableState||e._writableState.needDrain))a()}r.on("data",ondata);function ondata(t){c("ondata");var i=e.write(t);c("dest.write",i);if(i===false){if((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&indexOf(n.pipes,e)!==-1)&&!l){c("false write response, pause",n.awaitDrain);n.awaitDrain++}r.pause()}}function onerror(t){c("onerror",t);unpipe();e.removeListener("error",onerror);if(s(e,"error")===0)E(e,t)}prependListener(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){c("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){c("unpipe");r.unpipe(e)}e.emit("pipe",r);if(!n.flowing){c("pipe resume");r.resume()}return e};function pipeOnDrain(e){return function pipeOnDrainFunctionResult(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&s(e,"data")){t.flowing=true;flow(e)}}}Readable.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:false});return this}var o=indexOf(t.pipes,e);if(o===-1)return this;t.pipes.splice(o,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};Readable.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;c("on readable",n.length,n.reading);if(n.length){emitReadable(this)}else if(!n.reading){process.nextTick(nReadingNextTick,this)}}}return r};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);if(e==="readable"){process.nextTick(updateReadableListening,this)}return r};Readable.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){process.nextTick(updateReadableListening,this)}return t};function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function nReadingNextTick(e){c("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){c("resume");e.flowing=!e.readableListening;resume(this,e)}e.paused=false;return this};function resume(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;process.nextTick(resume_,e,t)}}function resume_(e,t){c("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");flow(e);if(t.flowing&&!t.reading)e.read(0)}Readable.prototype.pause=function(){c("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){c("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function flow(e){var t=e._readableState;c("flow",t.flowing);while(t.flowing&&e.read()!==null);}Readable.prototype.wrap=function(e){var t=this;var r=this._readableState;var n=false;e.on("end",(function(){c("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();if(e&&e.length)t.push(e)}t.push(null)}));e.on("data",(function(i){c("wrapped data");if(r.decoder)i=r.decoder.write(i);if(r.objectMode&&(i===null||i===undefined))return;else if(!r.objectMode&&(!i||!i.length))return;var s=t.push(i);if(!s){n=true;e.pause()}}));for(var i in e){if(this[i]===undefined&&typeof e[i]==="function"){this[i]=function methodWrap(t){return function methodWrapReturnFunction(){return e[t].apply(e,arguments)}}(i)}}for(var s=0;s<C.length;s++){e.on(C[s],this.emit.bind(this,C[s]))}this._read=function(t){c("wrapped _read",t);if(n){n=false;e.resume()}};return this};if(typeof Symbol==="function"){Readable.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=r(8567)}return S(this)}}Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function get(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:false,get:function get(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:false,get:function get(){return this._readableState.flowing},set:function set(e){if(this._readableState){this._readableState.flowing=e}}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:false,get:function get(){return this._readableState.length}});function fromList(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function endReadable(e){var t=e._readableState;c("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;process.nextTick(endReadableNT,t,e)}}function endReadableNT(e,t){c("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){Readable.from=function(e,t){if(k===undefined){k=r(779)}return k(Readable,e,t)}}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}},8859:(e,t,r)=>{"use strict";e.exports=Transform;var n=r(7715).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0;var l=r(8906);r(757)(Transform,l);function afterTransform(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new s)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function Transform(e){if(!(this instanceof Transform))return new Transform(e);l.call(this,e);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",prefinish)}function prefinish(){var e=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush((function(t,r){done(e,t,r)}))}else{done(this,null,null)}}Transform.prototype.push=function(e,t){this._transformState.needTransform=false;return l.prototype.push.call(this,e,t)};Transform.prototype._transform=function(e,t,r){r(new i("_transform()"))};Transform.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};Transform.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};Transform.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))};function done(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}},2263:(e,t,r)=>{"use strict";e.exports=Writable;function WriteReq(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function CorkedRequest(e){var t=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(t,e)}}var n;Writable.WritableState=WritableState;var i={deprecate:r(637)};var s=r(3675);var o=r(4300).Buffer;var a=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return o.from(e)}function _isUint8Array(e){return o.isBuffer(e)||e instanceof a}var l=r(4564);var u=r(7711),c=u.getHighWaterMark;var d=r(7715).q,p=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,_=d.ERR_STREAM_CANNOT_PIPE,g=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,y=d.ERR_STREAM_WRITE_AFTER_END,v=d.ERR_UNKNOWN_ENCODING;var w=l.errorOrDestroy;r(757)(Writable,s);function nop(){}function WritableState(e,t,i){n=n||r(8906);e=e||{};if(typeof i!=="boolean")i=t instanceof n;this.objectMode=!!e.objectMode;if(i)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=c(this,e,"writableHighWaterMark",i);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var s=e.decodeStrings===false;this.decodeStrings=!s;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){onwrite(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:i.deprecate((function writableStateBufferGetter(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var S;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){S=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(e){if(S.call(this,e))return true;if(this!==Writable)return false;return e&&e._writableState instanceof WritableState}})}else{S=function realHasInstance(e){return e instanceof this}}function Writable(e){n=n||r(8906);var t=this instanceof n;if(!t&&!S.call(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}s.call(this)}Writable.prototype.pipe=function(){w(this,new _)};function writeAfterEnd(e,t){var r=new y;w(e,r);process.nextTick(t,r)}function validChunk(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new p("chunk",["string","Buffer"],r)}if(i){w(e,i);process.nextTick(n,i);return false}return true}Writable.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var s=!n.objectMode&&_isUint8Array(e);if(s&&!o.isBuffer(e)){e=_uint8ArrayToBuffer(e)}if(typeof t==="function"){r=t;t=null}if(s)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=nop;if(n.ending)writeAfterEnd(this,r);else if(s||validChunk(this,n,e,r)){n.pendingcb++;i=writeOrBuffer(this,n,s,e,t,r)}return i};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);this._writableState.defaultEncoding=e;return this};Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,r,n,i,s){if(!r){var o=decodeChunk(t,n,i);if(n!==o){r=true;i="buffer";n=o}}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;if(!l)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{doWrite(e,t,false,a,n,i,s)}return l}function doWrite(e,t,r,n,i,s,o){t.writelen=n;t.writecb=o;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new g("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,s,t.onwrite);t.sync=false}function onwriteError(e,t,r,n,i){--t.pendingcb;if(r){process.nextTick(i,n);process.nextTick(finishMaybe,e,t);e._writableState.errorEmitted=true;w(e,n)}else{i(n);e._writableState.errorEmitted=true;w(e,n);finishMaybe(e,t)}}function onwriteStateUpdate(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new b;onwriteStateUpdate(r);if(t)onwriteError(e,r,n,t,i);else{var s=needFinish(r)||e.destroyed;if(!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){clearBuffer(e,r)}if(n){process.nextTick(afterWrite,e,r,s,i)}else{afterWrite(e,r,s,i)}}}function afterWrite(e,t,r,n){if(!r)onwriteDrain(e,t);t.pendingcb--;n();finishMaybe(e,t)}function onwriteDrain(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function clearBuffer(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var s=t.corkedRequestsFree;s.entry=r;var o=0;var a=true;while(r){i[o]=r;if(!r.isBuf)a=false;r=r.next;o+=1}i.allBuffers=a;doWrite(e,t,true,t.length,i,"",s.finish);t.pendingcb++;t.lastBufferedRequest=null;if(s.next){t.corkedRequestsFree=s.next;s.next=null}else{t.corkedRequestsFree=new CorkedRequest(t)}t.bufferedRequestCount=0}else{while(r){var l=r.chunk;var u=r.encoding;var c=r.callback;var d=t.objectMode?1:l.length;doWrite(e,t,false,d,l,u,c);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}Writable.prototype._write=function(e,t,r){r(new h("_write()"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)endWritable(this,n,r);return this};Object.defineProperty(Writable.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,t){e._final((function(r){t.pendingcb--;if(r){w(e,r)}t.prefinished=true;e.emit("prefinish");finishMaybe(e,t)}))}function prefinish(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;process.nextTick(callFinal,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function finishMaybe(e,t){var r=needFinish(t);if(r){prefinish(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function endWritable(e,t,r){t.ending=true;finishMaybe(e,t);if(r){if(t.finished)process.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function onCorkedFinish(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function set(e){if(!this._writableState){return}this._writableState.destroyed=e}});Writable.prototype.destroy=l.destroy;Writable.prototype._undestroy=l.undestroy;Writable.prototype._destroy=function(e,t){t(e)}},8567:(e,t,r)=>{"use strict";var n;function _defineProperty(e,t,r){t=_toPropertyKey(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t==="symbol"?t:String(t)}function _toPrimitive(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i=r(4503);var s=Symbol("lastResolve");var o=Symbol("lastReject");var a=Symbol("error");var l=Symbol("ended");var u=Symbol("lastPromise");var c=Symbol("handlePromise");var d=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[s];if(t!==null){var r=e[d].read();if(r!==null){e[u]=null;e[s]=null;e[o]=null;t(createIterResult(r,false))}}}function onReadable(e){process.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(r,n){e.then((function(){if(t[l]){r(createIterResult(undefined,true));return}t[c](r,n)}),n)}}var p=Object.getPrototypeOf((function(){}));var h=Object.setPrototypeOf((n={get stream(){return this[d]},next:function next(){var e=this;var t=this[a];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(createIterResult(undefined,true))}if(this[d].destroyed){return new Promise((function(t,r){process.nextTick((function(){if(e[a]){r(e[a])}else{t(createIterResult(undefined,true))}}))}))}var r=this[u];var n;if(r){n=new Promise(wrapForNext(r,this))}else{var i=this[d].read();if(i!==null){return Promise.resolve(createIterResult(i,false))}n=new Promise(this[c])}this[u]=n;return n}},_defineProperty(n,Symbol.asyncIterator,(function(){return this})),_defineProperty(n,"return",(function _return(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){if(e){r(e);return}t(createIterResult(undefined,true))}))}))})),n),p);var b=function createReadableStreamAsyncIterator(e){var t;var r=Object.create(h,(t={},_defineProperty(t,d,{value:e,writable:true}),_defineProperty(t,s,{value:null,writable:true}),_defineProperty(t,o,{value:null,writable:true}),_defineProperty(t,a,{value:null,writable:true}),_defineProperty(t,l,{value:e._readableState.endEmitted,writable:true}),_defineProperty(t,c,{value:function value(e,t){var n=r[d].read();if(n){r[u]=null;r[s]=null;r[o]=null;e(createIterResult(n,false))}else{r[s]=e;r[o]=t}},writable:true}),t));r[u]=null;i(e,(function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=r[o];if(t!==null){r[u]=null;r[s]=null;r[o]=null;t(e)}r[a]=e;return}var n=r[s];if(n!==null){r[u]=null;r[s]=null;r[o]=null;n(createIterResult(undefined,true))}r[l]=true}));e.on("readable",onReadable.bind(null,r));return r};e.exports=b},6039:(e,t,r)=>{"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){t=_toPropertyKey(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){if(t)_defineProperties(e.prototype,t);if(r)_defineProperties(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t==="symbol"?t:String(t)}function _toPrimitive(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n=r(4300),i=n.Buffer;var s=r(3837),o=s.inspect;var a=o&&o.custom||"inspect";function copyBuffer(e,t,r){i.prototype.copy.call(e,t,r)}e.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}_createClass(BufferList,[{key:"push",value:function push(e){var t={data:e,next:null};if(this.length>0)this.tail.next=t;else this.head=t;this.tail=t;++this.length}},{key:"unshift",value:function unshift(e){var t={data:e,next:this.head};if(this.length===0)this.tail=t;this.head=t;++this.length}},{key:"shift",value:function shift(){if(this.length===0)return;var e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e}},{key:"clear",value:function clear(){this.head=this.tail=null;this.length=0}},{key:"join",value:function join(e){if(this.length===0)return"";var t=this.head;var r=""+t.data;while(t=t.next)r+=e+t.data;return r}},{key:"concat",value:function concat(e){if(this.length===0)return i.alloc(0);var t=i.allocUnsafe(e>>>0);var r=this.head;var n=0;while(r){copyBuffer(r.data,t,n);n+=r.data.length;r=r.next}return t}},{key:"consume",value:function consume(e,t){var r;if(e<this.head.data.length){r=this.head.data.slice(0,e);this.head.data=this.head.data.slice(e)}else if(e===this.head.data.length){r=this.shift()}else{r=t?this._getString(e):this._getBuffer(e)}return r}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(e){var t=this.head;var r=1;var n=t.data;e-=n.length;while(t=t.next){var i=t.data;var s=e>i.length?i.length:e;if(s===i.length)n+=i;else n+=i.slice(0,e);e-=s;if(e===0){if(s===i.length){++r;if(t.next)this.head=t.next;else this.head=this.tail=null}else{this.head=t;t.data=i.slice(s)}break}++r}this.length-=r;return n}},{key:"_getBuffer",value:function _getBuffer(e){var t=i.allocUnsafe(e);var r=this.head;var n=1;r.data.copy(t);e-=r.data.length;while(r=r.next){var s=r.data;var o=e>s.length?s.length:e;s.copy(t,t.length-e,0,o);e-=o;if(e===0){if(o===s.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=s.slice(o)}break}++n}this.length-=n;return t}},{key:a,value:function value(e,t){return o(this,_objectSpread(_objectSpread({},t),{},{depth:0,customInspect:false}))}}]);return BufferList}()},4564:e=>{"use strict";function destroy(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){process.nextTick(emitErrorNT,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;process.nextTick(emitErrorNT,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,(function(e){if(!t&&e){if(!r._writableState){process.nextTick(emitErrorAndCloseNT,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;process.nextTick(emitErrorAndCloseNT,r,e)}else{process.nextTick(emitCloseNT,r)}}else if(t){process.nextTick(emitCloseNT,r);t(e)}else{process.nextTick(emitCloseNT,r)}}));return this}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t);emitCloseNT(e)}function emitCloseNT(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}e.exports={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy}},4503:(e,t,r)=>{"use strict";var n=r(7715).q.ERR_STREAM_PREMATURE_CLOSE;function once(e){var t=false;return function(){if(t)return;t=true;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e.apply(this,n)}}function noop(){}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function eos(e,t,r){if(typeof t==="function")return eos(e,null,t);if(!t)t={};r=once(r||noop);var i=t.readable||t.readable!==false&&e.readable;var s=t.writable||t.writable!==false&&e.writable;var o=function onlegacyfinish(){if(!e.writable)l()};var a=e._writableState&&e._writableState.finished;var l=function onfinish(){s=false;a=true;if(!i)r.call(e)};var u=e._readableState&&e._readableState.endEmitted;var c=function onend(){i=false;u=true;if(!s)r.call(e)};var d=function onerror(t){r.call(e,t)};var p=function onclose(){var t;if(i&&!u){if(!e._readableState||!e._readableState.ended)t=new n;return r.call(e,t)}if(s&&!a){if(!e._writableState||!e._writableState.ended)t=new n;return r.call(e,t)}};var h=function onrequest(){e.req.on("finish",l)};if(isRequest(e)){e.on("complete",l);e.on("abort",p);if(e.req)h();else e.on("request",h)}else if(s&&!e._writableState){e.on("end",o);e.on("close",o)}e.on("end",c);e.on("finish",l);if(t.error!==false)e.on("error",d);e.on("close",p);return function(){e.removeListener("complete",l);e.removeListener("abort",p);e.removeListener("request",h);if(e.req)e.req.removeListener("finish",l);e.removeListener("end",o);e.removeListener("close",o);e.removeListener("finish",l);e.removeListener("end",c);e.removeListener("error",d);e.removeListener("close",p)}}e.exports=eos},779:(e,t,r)=>{"use strict";function asyncGeneratorStep(e,t,r,n,i,s,o){try{var a=e[s](o);var l=a.value}catch(e){r(e);return}if(a.done){t(l)}else{Promise.resolve(l).then(n,i)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function _next(e){asyncGeneratorStep(s,n,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(s,n,i,_next,_throw,"throw",e)}_next(undefined)}))}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){t=_toPropertyKey(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t==="symbol"?t:String(t)}function _toPrimitive(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n=r(7715).q.ERR_INVALID_ARG_TYPE;function from(e,t,r){var i;if(t&&typeof t.next==="function"){i=t}else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new n("iterable",["Iterable"],t);var s=new e(_objectSpread({objectMode:true},r));var o=false;s._read=function(){if(!o){o=true;next()}};function next(){return _next2.apply(this,arguments)}function _next2(){_next2=_asyncToGenerator((function*(){try{var e=yield i.next(),t=e.value,r=e.done;if(r){s.push(null)}else if(s.push(yield t)){next()}else{o=false}}catch(e){s.destroy(e)}}));return _next2.apply(this,arguments)}return s}e.exports=from},7355:(e,t,r)=>{"use strict";var n;function once(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var i=r(7715).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function destroyer(e,t,i,s){s=once(s);var a=false;e.on("close",(function(){a=true}));if(n===undefined)n=r(4503);n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=true;s()}));var l=false;return function(t){if(a)return;if(l)return;l=true;if(isRequest(e))return e.abort();if(typeof e.destroy==="function")return e.destroy();s(t||new o("pipe"))}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){if(!e.length)return noop;if(typeof e[e.length-1]!=="function")return noop;return e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=popCallback(t);if(Array.isArray(t[0]))t=t[0];if(t.length<2){throw new s("streams")}var i;var o=t.map((function(e,r){var s=r<t.length-1;var a=r>0;return destroyer(e,s,a,(function(e){if(!i)i=e;if(e)o.forEach(call);if(s)return;o.forEach(call);n(i)}))}));return t.reduce(pipe)}e.exports=pipeline},7711:(e,t,r)=>{"use strict";var n=r(7715).q.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getHighWaterMark(e,t,r,i){var s=highWaterMarkFrom(t,i,r);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var o=i?r:"highWaterMark";throw new n(o,s)}return Math.floor(s)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:getHighWaterMark}},3675:(e,t,r)=>{e.exports=r(2781)},1621:(e,t,r)=>{var n=r(2781);if(process.env.READABLE_STREAM==="disable"&&n){e.exports=n.Readable;Object.assign(e.exports,n);e.exports.Stream=n}else{t=e.exports=r(1959);t.Stream=n||t;t.Readable=t;t.Writable=r(2263);t.Duplex=r(8906);t.Transform=r(8859);t.PassThrough=r(9856);t.finished=r(4503);t.pipeline=r(7355)}},3809:(e,t,r)=>{"use strict";const n=r(6745);class Retimer{constructor(e,t,r){const i=this;this._started=n();this._rescheduled=0;this._scheduled=t;this._args=r;this._triggered=false;this._timerWrapper=()=>{if(i._rescheduled>0){i._scheduled=i._rescheduled-(n()-i._started);i._schedule(i._scheduled)}else{i._triggered=true;e.apply(null,i._args)}};this._timer=setTimeout(this._timerWrapper,t)}reschedule(e){if(!e){e=this._scheduled}const t=n();if(t+e-(this._started+this._scheduled)<0){clearTimeout(this._timer);this._schedule(e)}else if(!this._triggered){this._started=t;this._rescheduled=e}else{this._schedule(e)}}_schedule(e){this._triggered=false;this._started=n();this._rescheduled=0;this._scheduled=e;this._timer=setTimeout(this._timerWrapper,e)}clear(){clearTimeout(this._timer)}}function retimer(){if(typeof arguments[0]!=="function"){throw new Error("callback needed")}if(typeof arguments[1]!=="number"){throw new Error("timeout needed")}let e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++){e[t]=arguments[t+2]}}return new Retimer(arguments[0],arguments[1],e)}e.exports=retimer},6745:e=>{"use strict";e.exports=function getTime(){const e=process.hrtime();return Math.floor(e[0]*1e3+e[1]/1e6)}},9978:e=>{"use strict";function reusify(e){var t=new e;var r=t;function get(){var n=t;if(n.next){t=n.next}else{t=new e;r=t}n.next=null;return n}function release(e){r.next=e;r=e}return{get:get,release:release}}e.exports=reusify},9548:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(4300);var i=n.Buffer;function copyProps(e,t){for(var r in e){t[r]=e[r]}}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow){e.exports=n}else{copyProps(n,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,r){return i(e,t,r)}SafeBuffer.prototype=Object.create(i.prototype);copyProps(i,SafeBuffer);SafeBuffer.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return i(e,t,r)};SafeBuffer.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=i(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},8541:(e,t,r)=>{"use strict";var n=r(9548).Buffer;var i=n.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!=="string"&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}t.s=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;t=4;break;case"utf8":this.fillLast=utf8FillLast;t=4;break;case"base64":this.text=base64Text;this.end=base64End;t=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=n.allocUnsafe(t)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var t;var r;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";r=this.lastNeed;this.lastNeed=0}else{r=0}if(r<e.length)return t?t+this.text(e,r):this.text(e,r);return t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var i=utf8CheckByte(t[n]);if(i>=0){if(i>0)e.lastNeed=i-1;return i}if(--n<r||i===-2)return 0;i=utf8CheckByte(t[n]);if(i>=0){if(i>0)e.lastNeed=i-2;return i}if(--n<r||i===-2)return 0;i=utf8CheckByte(t[n]);if(i>=0){if(i>0){if(i===2)i=0;else e.lastNeed=i-3}return i}return 0}function utf8CheckExtraBytes(e,t,r){if((t[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return"�"}}}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed;var r=utf8CheckExtraBytes(this,e,t);if(r!==undefined)return r;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);e.copy(this.lastChar,0,n);return e.toString("utf8",t,n)}function utf8End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"�";return t}function utf16Text(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;if(r===0)return e.toString("base64",t);this.lastNeed=3-r;this.lastTotal=3;if(r===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-r)}function base64End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}},637:(e,t,r)=>{e.exports=r(3837).deprecate},5941:e=>{"use strict";var t=[];var r={};for(var n=0;n<256;n++){t[n]=(n+256).toString(16).substr(1);r[t[n]]=n}function parse(e,t,n){var i=t&&n||0;var s=0;t=t||[];e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){if(s<16){t[i+s++]=r[e]}}));while(s<16){t[i+s++]=0}return t}function unparse(e,r){var n=r||0;var i=t;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}e.exports={parse:parse,unparse:unparse}},3745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return a.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return d.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return l.default}});var n=_interopRequireDefault(r(9910));var i=_interopRequireDefault(r(4190));var s=_interopRequireDefault(r(5441));var o=_interopRequireDefault(r(7406));var a=_interopRequireDefault(r(5451));var l=_interopRequireDefault(r(2004));var u=_interopRequireDefault(r(4419));var c=_interopRequireDefault(r(3453));var d=_interopRequireDefault(r(4694));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},8623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return n.default.createHash("md5").update(e).digest()}var i=md5;t["default"]=i},8298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i={randomUUID:n.default.randomUUID};t["default"]=i},5451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r="00000000-0000-0000-0000-000000000000";t["default"]=r},4694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(4419));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,n.default)(e)){throw TypeError("Invalid UUID")}let t;const r=new Uint8Array(16);r[0]=(t=parseInt(e.slice(0,8),16))>>>24;r[1]=t>>>16&255;r[2]=t>>>8&255;r[3]=t&255;r[4]=(t=parseInt(e.slice(9,13),16))>>>8;r[5]=t&255;r[6]=(t=parseInt(e.slice(14,18),16))>>>8;r[7]=t&255;r[8]=(t=parseInt(e.slice(19,23),16))>>>8;r[9]=t&255;r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;r[11]=t/4294967296&255;r[12]=t>>>24&255;r[13]=t>>>16&255;r[14]=t>>>8&255;r[15]=t&255;return r}var i=parse;t["default"]=i},3944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t["default"]=r},2420:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=rng;var n=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=new Uint8Array(256);let s=i.length;function rng(){if(s>i.length-16){n.default.randomFillSync(i);s=0}return i.slice(s,s+=16)}},2390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return n.default.createHash("sha1").update(e).digest()}var i=sha1;t["default"]=i},3453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.unsafeStringify=unsafeStringify;var n=_interopRequireDefault(r(4419));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=[];for(let e=0;e<256;++e){i.push((e+256).toString(16).slice(1))}function unsafeStringify(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}function stringify(e,t=0){const r=unsafeStringify(e,t);if(!(0,n.default)(r)){throw TypeError("Stringified UUID is invalid")}return r}var s=stringify;t["default"]=s},9910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(2420));var i=r(3453);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let s;let o;let a=0;let l=0;function v1(e,t,r){let u=t&&r||0;const c=t||new Array(16);e=e||{};let d=e.node||s;let p=e.clockseq!==undefined?e.clockseq:o;if(d==null||p==null){const t=e.random||(e.rng||n.default)();if(d==null){d=s=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(p==null){p=o=(t[6]<<8|t[7])&16383}}let h=e.msecs!==undefined?e.msecs:Date.now();let b=e.nsecs!==undefined?e.nsecs:l+1;const _=h-a+(b-l)/1e4;if(_<0&&e.clockseq===undefined){p=p+1&16383}if((_<0||h>a)&&e.nsecs===undefined){b=0}if(b>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}a=h;l=b;o=p;h+=122192928e5;const g=((h&268435455)*1e4+b)%4294967296;c[u++]=g>>>24&255;c[u++]=g>>>16&255;c[u++]=g>>>8&255;c[u++]=g&255;const m=h/4294967296*1e4&268435455;c[u++]=m>>>8&255;c[u++]=m&255;c[u++]=m>>>24&15|16;c[u++]=m>>>16&255;c[u++]=p>>>8|128;c[u++]=p&255;for(let e=0;e<6;++e){c[u+e]=d[e]}return t||(0,i.unsafeStringify)(c)}var u=v1;t["default"]=u},4190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(4460));var i=_interopRequireDefault(r(8623));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=(0,n.default)("v3",48,i.default);var o=s;t["default"]=o},4460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.URL=t.DNS=void 0;t["default"]=v35;var n=r(3453);var i=_interopRequireDefault(r(4694));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r){t.push(e.charCodeAt(r))}return t}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o;function v35(e,t,r){function generateUUID(e,s,o,a){var l;if(typeof e==="string"){e=stringToBytes(e)}if(typeof s==="string"){s=(0,i.default)(s)}if(((l=s)===null||l===void 0?void 0:l.length)!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let u=new Uint8Array(16+e.length);u.set(s);u.set(e,s.length);u=r(u);u[6]=u[6]&15|t;u[8]=u[8]&63|128;if(o){a=a||0;for(let e=0;e<16;++e){o[a+e]=u[e]}return o}return(0,n.unsafeStringify)(u)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=s;generateUUID.URL=o;return generateUUID}},5441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(8298));var i=_interopRequireDefault(r(2420));var s=r(3453);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,r){if(n.default.randomUUID&&!t&&!e){return n.default.randomUUID()}e=e||{};const o=e.random||(e.rng||i.default)();o[6]=o[6]&15|64;o[8]=o[8]&63|128;if(t){r=r||0;for(let e=0;e<16;++e){t[r+e]=o[e]}return t}return(0,s.unsafeStringify)(o)}var o=v4;t["default"]=o},7406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(4460));var i=_interopRequireDefault(r(2390));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=(0,n.default)("v5",80,i.default);var o=s;t["default"]=o},4419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(3944));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&n.default.test(e)}var i=validate;t["default"]=i},2004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=_interopRequireDefault(r(4419));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,n.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.slice(14,15),16)}var i=version;t["default"]=i},3433:e=>{e.exports=wrappy;function wrappy(e,t){if(e&&t)return wrappy(e)(t);if(typeof e!=="function")throw new TypeError("need wrapper function");Object.keys(e).forEach((function(t){wrapper[t]=e[t]}));return wrapper;function wrapper(){var t=new Array(arguments.length);for(var r=0;r<t.length;r++){t[r]=arguments[r]}var n=e.apply(this,t);var i=t[t.length-1];if(typeof n==="function"&&n!==i){Object.keys(i).forEach((function(e){n[e]=i[e]}))}return n}}},3191:e=>{e.exports=extend;var t=Object.prototype.hasOwnProperty;function extend(){var e={};for(var r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n){if(t.call(n,i)){e[i]=n[i]}}}return e}},6750:module=>{module.exports=eval("require")("supports-color")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},3837:e=>{"use strict";e.exports=require("util")},4572:e=>{"use strict";e.exports={i8:"0.50.0"}}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={exports:{}};var n=true;try{__webpack_modules__[e](r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete __webpack_module_cache__[e]}return r.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__=__nccwpck_require__(3333);module.exports=__webpack_exports__})();